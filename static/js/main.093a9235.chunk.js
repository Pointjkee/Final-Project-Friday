(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{165:function(e,t,a){e.exports={interfaceWrapper:"InterfacePack_interfaceWrapper__1TCa8",tools:"InterfacePack_tools__3tu0Y"}},217:function(e,t,a){e.exports={loader:"Preloader_loader__14u14"}},251:function(e,t,a){},252:function(e,t,a){},27:function(e,t,a){e.exports={text:"styleForm_text__BR-at",stylePaper:"styleForm_stylePaper__1s-_G",textField:"styleForm_textField__2hW7Z",buttonStyle:"styleForm_buttonStyle__2AY2b",form:"styleForm_form__2sVcD",buttonWrapp:"styleForm_buttonWrapp__157-P"}},377:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(52),s=a.n(c),i=(a(251),a(252),a(23)),o=a(7),l=a(27),d=a.n(l),u=a(22),j=a(206),b=a.n(j).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),p=function(e,t){return b.post("/auth/register/",{email:e,password:t})},x=function(e){return b.post("/auth/forgot",e)},O=function(e){return b.post("/auth/set-new-password",e)},h=function(e){return b.post("auth/login",e)},m=function(){return b.delete("/auth/me")},f=function(){return b.post("/auth/me")},g=function(e){return b.put("/auth/me",e)},v=function(e){return b.get("/cards/pack?",{params:e})},C=function(e){return b.post("cards/pack",e)},y=function(e){return b.delete("cards/pack/?id=".concat(e))},_=function(e){var t=e.cardsPack,a=t._id,n=t.name;return b.put("cards/pack",{cardsPack:{_id:a,name:n}})},w=function(e){var t=e.min,a=e.max,n=e.sortCards,r=e.page,c=e.pageCount,s=e.cardsPack_id;return b.get("/cards/card",{params:{min:t,max:a,sortCards:n,page:r,pageCount:c,cardsPack_id:s}})},k={error:null,isRegister:!1},P=a(13),S=a(44),T=a(472),E=a(491),N=a(493),A=a(466),R=a(467),I=a(487),M=a(496),F=a(1),D=r.a.memo((function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),l=s[0],u=s[1],j=Object(n.useState)(""),b=Object(o.a)(j,2),x=b[0],O=b[1],h=Object(n.useState)(!1),m=Object(o.a)(h,2),f=m[0],g=m[1],v=Object(n.useState)(!1),C=Object(o.a)(v,2),y=C[0],_=C[1],w=Object(P.b)(),k=Object(P.c)((function(e){return e.register.error})),D=Object(P.c)((function(e){return e.register.isRegister})),G=!1;if(l!==x&&(G=!0),D)return Object(F.jsx)(i.a,{to:"/login"});return Object(F.jsx)("div",{className:d.a.form,children:Object(F.jsxs)(M.a,{className:d.a.stylePaper,children:[Object(F.jsx)("h1",{children:"IT-Incubator"}),Object(F.jsx)("h3",{children:"Sign Up"}),Object(F.jsx)("div",{children:Object(F.jsx)(T.a,{className:d.a.textField,id:"outlined-name",label:"Email",value:a,onChange:function(e){r(e.currentTarget.value)},variant:"standard"})}),Object(F.jsx)("div",{style:{marginTop:20},children:Object(F.jsx)(T.a,{className:d.a.textField,type:f?"text":"password",label:"Password",value:l,onChange:function(e){u(e.currentTarget.value)},variant:"standard",InputProps:{endAdornment:Object(F.jsx)(E.a,{position:"end",children:Object(F.jsx)(N.a,{"aria-label":"toggle password visibility",onClick:function(){g(!f)},edge:"end",children:f?Object(F.jsx)(A.a,{}):Object(F.jsx)(R.a,{})})})}})}),Object(F.jsx)("div",{children:Object(F.jsx)("div",{style:{marginTop:20},children:Object(F.jsx)(T.a,{className:d.a.textField,type:y?"text":"password",label:"Confirm Password",value:x,onChange:function(e){O(e.currentTarget.value)},variant:"standard",InputProps:{endAdornment:Object(F.jsx)(E.a,{position:"end",children:Object(F.jsx)(N.a,{"aria-label":"toggle password visibility",onClick:function(){_(!y)},edge:"end",children:y?Object(F.jsx)(A.a,{}):Object(F.jsx)(R.a,{})})})}})})}),Object(F.jsx)("div",{style:{height:"20px"},children:G&&Object(F.jsx)("div",{style:{color:"red"},children:" Incorrect passwords!"})||!!k&&Object(F.jsx)("div",{style:{color:"red"},children:k})}),Object(F.jsxs)("div",{style:{marginTop:"15px"},children:[Object(F.jsx)(S.b,{to:"/login",style:{textDecoration:"none",marginRight:50},children:Object(F.jsx)(I.a,{size:"medium",variant:"outlined",children:"Cancel"})}),Object(F.jsx)(I.a,{size:"medium",onClick:function(){l===x&&w(function(e,t){return function(a){p(e,t).then((function(e){a({type:"REGISTER",isRegister:!0})})).catch((function(e){400===e.response.status&&a(function(e){return{type:"SET_ERROR",error:e}}(e.response.data.error))}))}}(a,l))},variant:"contained",disabled:!a||!l||!x,children:"Register"})]})]})})})),G={statusOfSentMessage:!1,error:"",email:""},L=function(e){return{type:"RESTORE/ERROR-MESSAGE",error:e}},U=a(92),z=a(475),H=a(499),W=a(96),B=function(){var e=Object(i.g)(),t=Object(P.c)((function(e){return e.restorePass.statusOfSentMessage})),a=Object(P.b)(),n=function(e){var t;a((t={email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n\t<a href='https://pointjkee.github.io/Final-Project-Friday/#/set-new-password/$token$'>Change Password</a></div>"},function(e){x(t).then((function(a){200===a.status&&e({type:"RESTORE/SET-EMAIL",email:t.email}),e({type:"RESTORE/CHANGE-STATUS-MESSAGE",status:!0})})).catch((function(t){404!==t.response.status&&401!==t.response.status||e(L(t.response.data.error))}))}))};t&&e("/info-sent-email");var r=W.a().shape({email:W.b().email("Invalid email").required("Required field")}),c=Object(U.a)({initialValues:{email:""},validationSchema:r,onSubmit:function(e){n(e.email)}});return Object(F.jsx)("form",{onSubmit:c.handleSubmit,className:d.a.form,children:Object(F.jsxs)(M.a,{className:d.a.stylePaper,children:[Object(F.jsx)("h1",{children:"IT-Incubator"}),Object(F.jsx)("h3",{children:"Forgot your password? "}),Object(F.jsx)(z.a,{className:d.a.textField,error:c.touched.email&&Boolean(c.errors.email),helperText:c.touched.email&&c.errors.email,variant:"standard",id:"email",name:"email",label:"Email",placeholder:"Email",onChange:c.handleChange}),Object(F.jsx)("h4",{className:d.a.text,children:"Enter your email address and we will send you further instructions "}),Object(F.jsx)(H.a,{className:d.a.buttonStyle,variant:"contained",type:"submit",children:"Send Instructions"}),Object(F.jsx)(H.a,{variant:"text",href:"#/login",children:"Try logging in"})]})})},Q=a(489),Y=a(66),K=a.n(Y),q=a(216),V={status:"loading",isMePack:!0},J=function(e){return{type:"APP/SET_STATUS",status:e}},X={isLoggedIn:!1,errorText:""},Z=function(e){return{type:"LOGIN",value:e}},$=function(e){return{type:"ERROR_TEXT_RESPONSE",errorText:e}},ee={profile:{_id:null,email:null,name:"",avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:null,error:null}},te=function(e){return{type:"SET_PROFILE",profile:e}},ae=a.p+"static/media/nonAvatarPic.a8c47987.png",ne=a(218),re=a.n(ne),ce=a(494),se=a(217),ie=a.n(se),oe=function(){return Object(F.jsx)("div",{className:ie.a.loader,children:Object(F.jsx)(ce.a,{})})},le=function(){var e=Object(P.c)((function(e){return e.app.status})),t=Object(P.c)((function(e){return e.profile})),a=Object(P.c)((function(e){return e.auth.isLoggedIn})),r=t.profile,c=r.email,s=r.name,l=r.avatar,d=Object(P.b)(),j=Object(n.useState)(!1),b=Object(o.a)(j,2),p=b[0],x=b[1],O=Object(q.a)({defaultValues:{name:s,avatar:l}}),h=O.register,f=(0,O.handleSubmit)((function(e){console.log(e),d(function(e){return function(t){t(J("loading")),g(e).then((function(e){t(te(e.data.updatedUser)),t(Z(!0)),t(J("success"))})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";console.log(a),t(J("failed"))}))}}(e))})),v=function(){return x(!0)};return a?Object(F.jsx)("div",{className:K.a.wrapper,children:Object(F.jsxs)(M.a,{className:K.a.container,children:[Object(F.jsxs)("div",{className:K.a.photo,children:[Object(F.jsx)("h2",{children:"Personal Information"}),Object(F.jsx)("img",{src:l||ae,alt:"photo"})]}),"loading"===e&&Object(F.jsx)(oe,{}),Object(F.jsx)("div",{style:{marginTop:"10px"},children:Object(F.jsx)(I.a,{onClick:function(){d((function(e){e(J("loading")),m().then((function(){e(te({_id:null,email:null,name:"",avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:null,error:null})),e(J("success")),e(Z(!1))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e($(a))}))}))},variant:"outlined",children:"Log out"})}),!p&&Object(F.jsxs)("div",{className:K.a.info,children:[Object(F.jsx)("span",{children:"NickName"}),Object(F.jsx)("div",{className:K.a.profileData,onDoubleClick:v,children:s}),Object(F.jsx)("span",{children:"Email"}),Object(F.jsx)("div",{className:K.a.profileData,onDoubleClick:v,children:c}),Object(F.jsx)(S.b,{to:"/packs",style:{textDecoration:"none"},children:Object(F.jsxs)(I.a,{size:"small",sx:{height:"40px",width:"100%",marginTop:"20px"},variant:"contained",children:["Go to pack",Object(F.jsx)(re.a,{sx:{marginLeft:"10px",padding:"2px"}})]})})]}),p&&Object(F.jsxs)("form",{className:K.a.form,onSubmit:f,children:[Object(F.jsxs)("div",{className:K.a.info_form,children:[Object(F.jsx)("span",{children:"NickName"}),Object(F.jsx)(Q.a,Object(u.a)({},h("name"))),Object(F.jsx)("span",{children:"Image Url"}),Object(F.jsx)(Q.a,Object(u.a)({},h("avatar")))]}),Object(F.jsxs)("div",{className:K.a.button,children:[Object(F.jsx)(I.a,{onClick:function(){x(!1)},variant:"contained",color:"secondary",children:"Cancel"}),Object(F.jsx)(I.a,{variant:"contained",color:"primary",type:"submit",children:"Save"})]})]})]})}):Object(F.jsx)(i.a,{to:"/login"})},de=a(482),ue=a(483),je=function(){var e=Object(P.b)(),t=Object(P.c)((function(e){return e.auth.isLoggedIn})),a=Object(U.a)({validate:function(e){return e.email?e.password?e.password.length<7?{password:"Password is at least seven characters"}:void 0:{password:"Password is required"}:{email:"Email is required"}},initialValues:{email:"nya-admin@nya.nya",password:"1qazxcvBG",rememberMe:!1},onSubmit:function(t){var a;e((a=t,function(e){e(J("loading")),h(a).then((function(t){e(te(t.data)),e(Z(!0))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e($(a))})).finally((function(){e(J("success"))}))}))}});return t?Object(F.jsx)(i.a,{to:"/profile"}):Object(F.jsx)("form",{className:d.a.form,onSubmit:a.handleSubmit,children:Object(F.jsxs)(M.a,{className:d.a.stylePaper,children:[Object(F.jsx)("h1",{children:"IT-Incubator"}),Object(F.jsx)("h3",{children:"Sign In"}),Object(F.jsx)(z.a,Object(u.a)({className:d.a.textField,label:"Email",type:"email",margin:"normal",variant:"standard"},a.getFieldProps("email"))),a.errors.email?Object(F.jsx)("div",{style:{color:"red"},children:a.errors.email}):null,Object(F.jsx)(z.a,Object(u.a)({className:d.a.textField,label:"Password",type:"password",margin:"normal",variant:"standard"},a.getFieldProps("password"))),a.errors.password?Object(F.jsx)("div",{style:{color:"red"},children:a.errors.password}):null,Object(F.jsx)(de.a,{label:"Remember me",control:Object(F.jsx)(ue.a,Object(u.a)(Object(u.a)({},a.getFieldProps("rememberMe")),{},{checked:a.values.rememberMe}))}),Object(F.jsxs)("div",{className:d.a.buttonWrapp,children:[Object(F.jsx)(I.a,{variant:"text",href:"#/restore",children:"Forgot?"}),Object(F.jsx)(I.a,{variant:"text",href:"#/register",children:"Register"})]}),Object(F.jsx)(I.a,{className:d.a.buttonStyle,type:"submit",variant:"contained",disabled:!a.isValid,children:"Login"})]})})},be={statusNewPassword:!1},pe=function(){var e=Object(i.h)().token,t=Object(P.b)(),a=Object(P.c)((function(e){return e.newPass.statusNewPassword})),r=Object(i.g)(),c=Object(n.useState)(!1),s=Object(o.a)(c,2),l=s[0],u=s[1],j=e,b=function(a){e&&t(function(e){return function(t){O(e).then((function(e){t({type:"NEW-PASSWORD/CHANGE-STATUS-PASSWORD",status:!0})})).catch((function(e){404!==e.response.status&&401!==e.response.status||t(L(e.response.data.error))}))}}({password:a,resetPasswordToken:j}))},p=W.a({password:W.b().required("Please Enter your password").min(7).matches(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{7,}/,"Password must contain at least 7 characters, one uppercase, one number and one lowwer case character")});a&&r("/login");var x=Object(U.a)({initialValues:{password:""},validationSchema:p,onSubmit:function(e){b(e.password)}});return Object(F.jsx)("form",{onSubmit:x.handleSubmit,className:d.a.form,children:Object(F.jsxs)(M.a,{className:d.a.stylePaper,children:[Object(F.jsx)("h1",{children:"It-incubator"}),Object(F.jsx)("h2",{children:"Create new password "}),Object(F.jsx)(z.a,{className:d.a.textField,error:x.touched.password&&Boolean(x.errors.password),helperText:x.touched.password&&x.errors.password,variant:"standard",id:"password",name:"password",type:l?"text":"password",placeholder:"Password",onChange:x.handleChange,InputProps:{endAdornment:Object(F.jsx)(E.a,{position:"end",children:Object(F.jsx)(N.a,{"aria-label":"toggle password visibility",onClick:function(){u(!l)},edge:"end",children:l?Object(F.jsx)(A.a,{}):Object(F.jsx)(R.a,{})})})}}),Object(F.jsx)("h4",{className:d.a.text,children:"Create new password and we will send you further instruction to email"}),Object(F.jsx)(H.a,{className:d.a.buttonStyle,variant:"contained",type:"submit",children:"Create new password"})]})})},xe=a(490),Oe=a(474),he=a(219),me=a.n(he),fe=Object(Oe.a)({stylePaper:{width:"413px",height:"468px",display:"flex",flexDirection:"column",borderRadius:"8px",left:"434px",top:"126px",padding:"33px",justifyContent:"space-evenly",alignItems:"center"}}),ge=function(){var e=Object(P.c)((function(e){return e.restorePass.email})),t=fe();return Object(F.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(F.jsxs)(xe.a,{className:t.stylePaper,children:[Object(F.jsx)("h1",{children:"It-incubator"}),Object(F.jsx)("div",{children:Object(F.jsx)(me.a,{color:"success",style:{width:"108px",height:"108px"}})}),Object(F.jsx)("h2",{style:{color:"green"},children:"Check Email "}),Object(F.jsxs)("h4",{style:{color:"#a9a9a9"},children:["We\u2019ve sent an Email with instructions to email ",e]})]})})},ve=a(38),Ce=a(25),ye=a.n(Ce),_e=a(63),we=Object(_e.b)("pack/getPack",function(){var e=Object(ve.a)(ye.a.mark((function e(t){var a;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ke=Object(_e.b)("pack/addPack",function(){var e=Object(ve.a)(ye.a.mark((function e(t,a){var n,r,c,s;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,c=r(),s=null!==c.profile.profile._id&&c.app.isMePack?c.profile.profile._id:"",e.next=5,C(t);case 5:n(we({pageCount:c.pack.pageCount,user_id:s}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Pe=Object(_e.b)("pack/deletePack",function(){var e=Object(ve.a)(ye.a.mark((function e(t,a){var n,r,c,s;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,r=a.getState,c=r(),s=null!==c.profile.profile._id&&c.app.isMePack?c.profile.profile._id:"",e.next=5,y(t.id);case 5:n(we({packName:t.packName,user_id:s,pageCount:c.pack.pageCount,page:c.pack.page}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Se=Object(_e.b)("pack/updatePack",function(){var e=Object(ve.a)(ye.a.mark((function e(t,a){var n,r;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.dispatch,r=a.getState,_(t).then((function(){var e=r(),t=null!==e.profile.profile._id&&e.app.isMePack?e.profile.profile._id:"";n(we({pageCount:e.pack.pageCount,user_id:t}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Te=Object(_e.c)({name:"task",initialState:{cardPacks:[{_id:"",user_id:"",name:"",path:"",cardsCount:0,grade:0,shots:0,rating:0,type:"",created:"",updated:"",__v:0,user_name:""}],cardPacksTotalCount:0,maxCardsCount:103,minCardsCount:0,page:1,pageCount:10},reducers:{setPageCount:function(e,t){e.pageCount=t.payload.pageSize},setCurrentPage:function(e,t){e.page=t.payload.page},setMaxCardsCount:function(e,t){e.maxCardsCount=t.payload.maxCardsCount},setMinCardsCount:function(e,t){e.minCardsCount=t.payload.minCardsCount}},extraReducers:function(e){e.addCase(we.fulfilled,(function(e,t){e.cardPacks=t.payload.cardPacks,e.cardPacksTotalCount=t.payload.cardPacksTotalCount,e.page=t.payload.page,e.pageCount=t.payload.pageCount}))}}),Ee=Te.actions,Ne=Ee.setPageCount,Ae=(Ee.setCurrentPage,Ee.setMaxCardsCount),Re=Ee.setMinCardsCount,Ie=Te.reducer,Me=a(64),Fe=a.n(Me),De=a(165),Ge=a.n(De),Le=a(37),Ue=a(500),ze=a(501),He=a(221),We=a.n(He),Be=a(220),Qe=a(99),Ye=a.n(Qe),Ke=a(495),qe=a(492),Ve=a(476),Je={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,borderRadius:"8px",bgcolor:"#ECECF9",boxShadow:24,p:4};function Xe(e){var t=Object(P.b)(),a=n.useState(!1),r=Object(o.a)(a,2),c=r[0],s=r[1],i=function(){return s(!1)};return Object(F.jsxs)("div",{children:[Object(F.jsx)(I.a,{style:{width:"30%"},size:"small",variant:"contained",color:"error",onClick:function(){return s(!0)},children:"Delete"}),Object(F.jsx)(Ve.a,{open:c,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(F.jsxs)(Ke.a,{sx:Je,children:[Object(F.jsx)(qe.a,{id:"modal-modal-title",variant:"h5",component:"h2",style:{display:"flex",justifyContent:"center"},children:"DELETE PACK?"}),Object(F.jsx)(qe.a,{id:"modal-modal-description",sx:{mt:3,width:"100%"},style:{display:"flex",gap:"20px",flexDirection:"column"},children:Object(F.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[Object(F.jsx)(I.a,{variant:"contained",color:"error",size:"small",onClick:function(){t(Pe({packName:e.text,id:e.packId})),s(!1)},children:"Delete"}),Object(F.jsx)(I.a,{variant:"contained",color:"inherit",size:"small",onClick:i,children:"\u0421ancel"})]})})]})})]})}var Ze={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"8px",width:400,bgcolor:"#ECECF9",boxShadow:24,p:4};function $e(e){var t=Object(P.b)(),a=n.useState(!1),r=Object(o.a)(a,2),c=r[0],s=r[1],i=function(){return s(!1)},l=Object(n.useState)(e.title),d=Object(o.a)(l,2),u=d[0],j=d[1],b=function(){t(Se({cardsPack:{_id:e.packId,name:u}})),s(!1)};return Object(F.jsxs)("div",{children:[Object(F.jsx)(I.a,{style:{width:"30%"},size:"small",variant:"contained",color:"success",onClick:function(){return s(!0)},children:"Edit"}),Object(F.jsx)(Ve.a,{open:c,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(F.jsxs)(Ke.a,{sx:Ze,children:[Object(F.jsx)(qe.a,{id:"modal-modal-title",variant:"h5",component:"h2",style:{display:"flex",justifyContent:"center"},children:"NEW NAME"}),Object(F.jsxs)(qe.a,{id:"modal-modal-description",sx:{mt:3,width:"100%"},style:{display:"flex",gap:"20px",flexDirection:"column"},children:[Object(F.jsx)(z.a,{color:"success",variant:"standard",size:"small",onChange:function(e){j(e.currentTarget.value)},value:u,onKeyPress:function(e){"Enter"===e.key&&b()}}),Object(F.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[Object(F.jsx)(I.a,{variant:"contained",color:"success",size:"small",onClick:b,children:"Edit"}),Object(F.jsx)(I.a,{variant:"contained",color:"inherit",size:"small",onClick:i,children:"\u0421ancel"})]})]})]})})]})}var et=["name","cards","update","createdName","cardUserId"],tt={alignItems:"center",width:"80%",height:"10px",display:"flex",justifyContent:"center",gap:"15px"},at=function(e){var t=e.name,a=e.cards,n=e.update,r=e.createdName,c=e.cardUserId,s=Object(Be.a)(e,et),i=Object(P.c)((function(e){return e.profile.profile._id}));return Object(F.jsx)("div",{children:Object(F.jsxs)("div",{className:Ye.a.rowTable,children:[Object(F.jsxs)("div",{className:Ye.a.rowText,style:{textAlign:"start"},children:[" ",t," "]}),Object(F.jsx)("div",{className:Ye.a.rowText,style:{width:"30%"},children:a}),Object(F.jsx)("div",{className:Ye.a.rowText,children:n}),Object(F.jsx)("div",{className:Ye.a.rowText,style:{width:"100%"},children:r}),Object(F.jsxs)("div",{style:tt,children:[c===i&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Xe,{packId:s.packId,text:s.text}),Object(F.jsx)($e,{title:t,packId:s.packId})]}),Object(F.jsx)(S.c,{to:"/cards/"+s.packId,style:{textDecoration:"none"},children:Object(F.jsx)(H.a,{style:{width:"30%"},size:"small",variant:"contained",color:"secondary",children:"Learn"})})]})]})})},nt=function(e){var t=e.text,a=Object(P.c)((function(e){return e.pack.cardPacks}));return Object(F.jsx)("div",{children:Object(F.jsxs)(M.a,{style:{boxShadow:"#bde0ea -2px 15px 15px 1px"},children:[Object(F.jsxs)("div",{className:Fe.a.tableHeader,children:[Object(F.jsx)("div",{className:Fe.a.textHeader,style:{textAlign:"start"},children:"Name"}),Object(F.jsx)("div",{className:Fe.a.textHeader,style:{width:"30%"},children:"Cards"}),Object(F.jsx)("div",{className:Fe.a.textHeader,children:"Last Updated"}),Object(F.jsx)("div",{className:Fe.a.textHeader,style:{width:"100%"},children:"Created by"}),Object(F.jsx)("div",{className:Fe.a.textHeader,style:{width:"80%"},children:"Actions"})]}),a.map((function(e,a){return Object(F.jsx)("div",{style:a%2===0?{background:"white"}:{background:"#ECECF9"},children:Object(F.jsx)(at,{text:t,cardUserId:e.user_id,packId:e._id,name:e.name.substr(0,35),cards:e.cardsCount,update:e.updated.substr(0,35),createdName:e.user_name.substr(0,35)})},e._id)}))]})})},rt=a(478),ct=a(473),st=a(484),it=function(e){var t=e.text,a=Object(P.b)(),n=Object(P.c)((function(e){return e.pack.cardPacksTotalCount})),r=Object(P.c)((function(e){return e.pack.minCardsCount})),c=Object(P.c)((function(e){return e.pack.maxCardsCount})),s=Object(P.c)((function(e){return e.pack.pageCount})),i=Object(P.c)((function(e){return e.pack.page})),o=Object(P.c)((function(e){return e.profile.profile._id})),l=Object(P.c)((function(e){return e.app.isMePack})),d="";null!==o&&l&&(d=o);var u=Math.ceil(n/s);return Object(F.jsx)("div",{children:Object(F.jsxs)("div",{style:{margin:"15px 0",width:"90%",display:"flex",alignItems:"start"},children:[Object(F.jsx)(rt.a,{onChange:function(e,n){var o;(o=n)!==i&&a(we({page:o,user_id:d,max:c,min:r,pageCount:s,packName:t}))},page:i,color:"primary",count:u,shape:"rounded"}),Object(F.jsxs)(ct.a,{style:{height:"32px",width:"80px"},size:"small",value:s.toString(),variant:"outlined",onChange:function(e){+e.target.value!==s&&(a(Ne({pageSize:+e.target.value})),a(we({pageCount:+e.target.value,max:c,min:r,user_id:d,packName:t})))},children:[Object(F.jsx)(st.a,{value:10,children:"10"}),Object(F.jsx)(st.a,{value:20,children:"20"}),Object(F.jsx)(st.a,{value:50,children:"50"}),Object(F.jsx)(st.a,{value:100,children:"100"})]})]})})},ot=a(471),lt=a(481),dt=a(470);function ut(){var e=Object(P.c)((function(e){return e.pack.minCardsCount})),t=Object(P.c)((function(e){return e.pack.maxCardsCount})),a=Object(P.c)((function(e){return e.pack.pageCount})),r=n.useState([e,t]),c=Object(o.a)(r,2),s=c[0],i=c[1],l=Object(P.b)(),d=Object(P.c)((function(e){return e.app.isMePack})),u=Object(P.c)((function(e){return e.profile.profile._id})),j=null!==u&&d?u:"";return Object(F.jsxs)(Ke.a,{sx:{width:"35%",display:"inline-flex",gap:"15px",margin:"0  0 0 30px "},children:[Object(F.jsx)(lt.a,{min:0,max:103,value:s,onChange:function(e,t,a){if(Array.isArray(t))if(t[1]-t[0]<0)if(0===a){var n=Math.min(t[0],103);i([n,n+0]),l(Re({minCardsCount:s[0]}))}else{var r=Math.max(t[1],0);i([r-0,r]),l(Ae({maxCardsCount:s[1]}))}else i(t),l(Re({minCardsCount:s[0]})),l(Ae({maxCardsCount:s[1]}))},valueLabelDisplay:"auto",disableSwap:!0}),Object(F.jsx)(Ue.a,{sx:{p:"5px"},size:"small",onClick:function(){e===s[0]&&t===s[1]||(l(Re({minCardsCount:s[0]})),l(Ae({maxCardsCount:s[1]})),l(we({pageCount:a,user_id:j,min:s[0],max:s[1]})))},color:"primary",children:Object(F.jsx)(dt.a,{})})]})}var jt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,borderRadius:"8px",bgcolor:"#ECECF9",boxShadow:24,p:4},bt=function(){var e=Object(P.b)(),t=n.useState(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],s=function(){return c(!1)},i=Object(n.useState)(""),l=Object(o.a)(i,2),d=l[0],u=l[1],j=function(){e(ke({cardsPack:{name:d}})),c(!1)};return Object(F.jsxs)("div",{children:[Object(F.jsx)(I.a,{onClick:function(){return c(!0)},variant:"contained",size:"small",children:"Add pack"}),Object(F.jsx)(Ve.a,{open:r,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(F.jsxs)(Ke.a,{sx:jt,children:[Object(F.jsx)(qe.a,{id:"modal-modal-title",variant:"h5",component:"h2",style:{display:"flex",justifyContent:"center"},children:"ADD NEW PACK"}),Object(F.jsxs)(qe.a,{id:"modal-modal-description",sx:{mt:3,width:"100%"},style:{display:"flex",gap:"20px",flexDirection:"column"},children:[Object(F.jsx)(z.a,{color:"success",variant:"standard",size:"small",onChange:function(e){u(e.currentTarget.value)},value:d,onKeyPress:function(e){"Enter"===e.key&&j()}}),Object(F.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[Object(F.jsx)(I.a,{variant:"contained",color:"success",size:"small",onClick:j,children:"Add"}),Object(F.jsx)(I.a,{variant:"contained",color:"inherit",size:"small",onClick:s,children:"\u0421ancel"})]})]})]})})]})},pt=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=(Object(P.c)((function(e){return e.pack.page})),Object(P.c)((function(e){return e.pack.minCardsCount})),Object(P.c)((function(e){return e.pack.maxCardsCount})),Object(P.c)((function(e){return e.pack.pageCount}))),s=Object(P.b)(),i=Object(P.c)((function(e){return e.app.isMePack})),l=Object(P.c)((function(e){return e.profile.profile._id})),d=null!==l&&i?l:"",u=function(){s(we({packName:a,user_id:d,pageCount:c}))};return Object(F.jsxs)("div",{children:[Object(F.jsx)("div",{className:Ge.a.interfaceWrapper,children:Object(F.jsxs)("div",{className:Ge.a.tools,children:[Object(F.jsxs)(M.a,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:300},children:[Object(F.jsx)(Le.c,{sx:{ml:1,flex:1},placeholder:"Search",value:a,onChange:function(e){r(e.target.value)},onKeyPress:function(e){"Enter"==e.code&&u()}}),Object(F.jsx)(Ue.a,{sx:{p:"5px"},onClick:u,color:"primary",children:Object(F.jsx)(We.a,{})}),Object(F.jsx)(Ue.a,{sx:{p:"5px"},onClick:function(){r(""),s(we({pageCount:c,user_id:d}))},color:"success",disabled:""===a,children:Object(F.jsx)(ot.a,{})})]}),Object(F.jsx)(ut,{}),Object(F.jsx)(bt,{}),Object(F.jsxs)("div",{style:{display:"flex",alignItems:"center",fontWeight:"bold"},children:[Object(F.jsx)("span",{style:i?{color:"#cccccc"}:{color:"#84308f"},children:"ALL PACKS"}),Object(F.jsx)(ze.a,{checked:i,color:"secondary",onChange:function(){s({type:"APP/ME-PACK-STATUS",mePack:!i})}}),Object(F.jsx)("span",{style:i?{color:"#84308f"}:{color:"#cccccc"},children:"MY PACKS"})]})]})}),Object(F.jsx)(nt,{text:a}),Object(F.jsx)(it,{text:a})]})},xt=Object(_e.c)({name:"cards",initialState:{cards:[],cardsTotalCount:0,maxGrade:0,minGrade:0,page:0,pageCount:4,packUserId:"",loadingStatus:"success"},reducers:{setCard:function(e,t){return t.payload},setPage:function(e,t){e.page=t.payload.page},resetCards:function(e,t){e.cards=t.payload.cards,e.cardsTotalCount=t.payload.cardsTotalCount},statusCard:function(e,t){e.loadingStatus=t.payload.status}}}),Ot=xt.reducer,ht=xt.actions,mt=ht.setCard,ft=ht.setPage,gt=ht.resetCards,vt=ht.statusCard,Ct=function(){return function(e){e(vt({status:"loading"})),e(gt({cards:[],cardsTotalCount:0}))}},yt=a(65),_t=a.n(yt),wt=a(222),kt=a.n(wt),Pt=function(){var e=Object(P.b)(),t=Object(i.g)(),a=Object(P.c)((function(e){return e.profile.profile._id})),r=Object(P.c)((function(e){return e.pack.minCardsCount})),c=Object(P.c)((function(e){return e.pack.maxCardsCount})),s=Object(P.c)((function(e){return e.pack.pageCount})),o=(Object(P.c)((function(e){return e.pack.page})),Object(P.c)((function(e){return e.app.isMePack}))),l=null!==a&&o?a:"";Object(n.useEffect)((function(){e(we({pageCount:s,min:r,max:c,user_id:l}))}),[o]);return Object(F.jsx)("div",{children:Object(F.jsx)(M.a,{className:Fe.a.ContainerTable,elevation:3,children:Object(F.jsxs)("div",{className:Fe.a.content,children:[Object(F.jsxs)("div",{className:_t.a.arrow__container,onClick:function(){t(-1),e(Ct())},children:[Object(F.jsx)(kt.a,{color:"primary"})," Back to Profile"]}),Object(F.jsx)("h1",{children:"Packs list"}),Object(F.jsx)(pt,{})]})})})},St=function(e){var t=e.cards,a=e.profileId;return Object(F.jsx)("tbody",{children:t&&t.map((function(e){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:e.question}),Object(F.jsx)("td",{children:e.answer}),Object(F.jsx)("td",{children:e.grade.toFixed(1)}),Object(F.jsx)("td",{children:new Date(e.updated).toLocaleDateString()}),a===e.user_id&&Object(F.jsxs)("td",{children:[Object(F.jsxs)("div",{children:[Object(F.jsx)(H.a,{children:"Update"}),Object(F.jsx)(H.a,{children:"Delete"})]})," "]})]},e.cardsPack_id)}))})},Tt=a(477),Et=function(){var e=Object(P.c)((function(e){return e.card.loadingStatus})),t=Object(i.g)(),a=Object(P.b)(),r=Object(i.h)().id,c=Object(P.c)((function(e){return e.card})),s=Object(P.c)((function(e){return e.card.cards})),o=Object(P.c)((function(e){return e.profile.profile})),l=c.cardsTotalCount,d=(c.maxGrade,c.minGrade,c.page),u=c.pageCount,j=(c.packUserId,o._id),b=Math.round(l/u);return Object(n.useEffect)((function(){a(function(e){return function(t,a){var n=a().card,r=n.page,c=n.pageCount,s=n.minGrade,i=n.maxGrade;t(vt({status:"loading"})),w({cardsPack_id:e,page:r,pageCount:c,min:s,max:i}).then((function(e){0!==e.data.cards.length&&t(mt(e.data)),t(vt({status:"success"}))})).catch((function(e){console.log(e),t(vt({status:"error"}))}))}}(r))}),[d]),Object(F.jsxs)("div",{className:_t.a.container,children:[Object(F.jsxs)("div",{className:_t.a.arrow__container,onClick:function(){t(-1),a(Ct())},children:[Object(F.jsx)("div",{className:_t.a.arrow,children:Object(F.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAWCAYAAAA4oUfxAAAAwElEQVR4XmNgIAEYGHgoGBg4CKCL0xyALNbTc7uvp+d6nq4OgFmsq+f2H4Tp5gB0i2FYR8+tHl0tVYGBgasB0OL36Bbr6rr1o6ulKsBlsY6Oy8D4mOYW6+o6BwyQxa4J6JYOqMW0xANmMQiDLdfWcylAl6AHHvhgJ+QAYOpvQFFIKwAsvQJ0sWQ1ujlAS8vVYNQBulhqNLo5QEPDQQGbA2he6sEAugN0gI0JBQU6NCZgAOYAulsMAyAHgDC6OLkAAHiBUEHGNMutAAAAAElFTkSuQmCC",alt:"arrow"})}),Object(F.jsx)("div",{className:_t.a.arrow__title,children:"Back to Packs"})]}),"loading"===e?Object(F.jsx)(oe,{}):Object(F.jsxs)("table",{className:_t.a.table,children:[Object(F.jsx)("thead",{className:_t.a.table_head,children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{children:"Question"}),Object(F.jsx)("th",{children:"Answer"}),Object(F.jsx)("th",{children:"Grade"}),Object(F.jsx)("th",{children:"Updated"}),Object(F.jsx)("th",{children:"Action"})]})}),Object(F.jsx)(St,{cards:s,profileId:j})]}),Object(F.jsx)("div",{className:_t.a.paginator,children:b>1&&Object(F.jsx)(Tt.a,{onChange:function(e,t){a(ft({page:t}))},count:b,color:"secondary"})})]})},Nt=function(){return Object(F.jsx)("div",{children:Object(F.jsxs)(i.d,{children:[Object(F.jsx)(i.b,{path:"/",element:Object(F.jsx)(le,{})}),Object(F.jsx)(i.b,{path:"login",element:Object(F.jsx)("div",{children:Object(F.jsx)(je,{})})}),Object(F.jsx)(i.b,{path:"register",element:Object(F.jsx)(D,{})}),Object(F.jsx)(i.b,{path:"profile",element:Object(F.jsx)(le,{})}),Object(F.jsx)(i.b,{path:"restore",element:Object(F.jsx)(B,{})}),Object(F.jsx)(i.b,{path:"/set-new-password/:token",element:Object(F.jsx)(pe,{})}),Object(F.jsx)(i.b,{path:"info-sent-email",element:Object(F.jsx)(ge,{})}),Object(F.jsx)(i.b,{path:"packs",element:Object(F.jsx)(Pt,{})}),Object(F.jsx)(i.b,{path:"cards/:id",element:Object(F.jsx)(Et,{})}),Object(F.jsx)(i.b,{path:"/404",element:Object(F.jsx)("h1",{children:"404: PAGE NOT FOUND"})})]})})};var At=function(){var e=Object(P.c)((function(e){return e.app.status})),t=Object(P.b)();return Object(n.useEffect)((function(){t((function(e){f().then((function(t){e(te(t.data)),e(J("success")),e(Z(!0))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e($(a)),e(J("failed"))}))}))}),[]),"loading"===e?Object(F.jsx)(oe,{}):Object(F.jsx)("div",{className:"App",children:Object(F.jsx)(Nt,{})})},Rt=a(10),It=a(55),Mt=a(112),Ft=Object(It.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_STATUS":return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case"APP/ME-PACK-STATUS":return Object(u.a)(Object(u.a)({},e),{},{isMePack:t.mePack});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:t.value});case"ERROR_TEXT_RESPONSE":return Object(u.a)(Object(u.a)({},e),{},{errorText:t.errorText});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":return Object(u.a)(Object(u.a)({},e),{},{isRegister:t.isRegister});case"SET_ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:t.error});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;return"SET_PROFILE"===t.type?Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),t.profile)}):e},restorePass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTORE/CHANGE-STATUS-MESSAGE":return Object(u.a)(Object(u.a)({},e),{},{statusOfSentMessage:t.status});case"RESTORE/ERROR-MESSAGE":return Object(u.a)(Object(u.a)({},e),{},{error:t.error});case"RESTORE/SET-EMAIL":return Object(u.a)(Object(u.a)({},e),{},{email:t.email});default:return e}},newPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;return"NEW-PASSWORD/CHANGE-STATUS-PASSWORD"===t.type?Object(u.a)(Object(u.a)({},e),{},{statusNewPassword:t.status}):e},pack:Ie,card:Ot}),Dt=Object(_e.a)({reducer:Ft,middleware:function(e){return Object(Rt.a)(e().prepend(Mt.a))}});window.store=Dt,s.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(S.a,{children:Object(F.jsx)(P.a,{store:Dt,children:Object(F.jsx)(At,{})})})}),document.getElementById("root"))},64:function(e,t,a){e.exports={ContainerTable:"CustomTable_ContainerTable__4UEmd",interface:"CustomTable_interface__2ccMn",tableHeader:"CustomTable_tableHeader__1Jevv",content:"CustomTable_content__2tcbQ",textHeader:"CustomTable_textHeader__3qEy_",arrow__container:"CustomTable_arrow__container__TGMmp"}},65:function(e,t,a){e.exports={container:"CardsTable_container__oz0AU",table:"CardsTable_table__1kyYL",table_head:"CardsTable_table_head__3yC-e",paginator:"CardsTable_paginator__1F1C6",arrow__container:"CardsTable_arrow__container__21-79",arrow:"CardsTable_arrow__1NGa0",arrow__title:"CardsTable_arrow__title__2yjL8"}},66:function(e,t,a){e.exports={wrapper:"Profile_wrapper__1AyTN",container:"Profile_container__9dShy",form:"Profile_form__1igXE",info_form:"Profile_info_form__1egpn",photo:"Profile_photo__1o8EQ",info:"Profile_info__2BTtl",button:"Profile_button__20D9C",profileData:"Profile_profileData__3RezQ"}},99:function(e,t,a){e.exports={rowTable:"Tabble_rowTable__1Gw_8",rowText:"Tabble_rowText__21T59"}}},[[377,1,2]]]);
//# sourceMappingURL=main.093a9235.chunk.js.map