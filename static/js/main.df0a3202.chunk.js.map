{"version":3,"sources":["component/cards/card/Card.module.css","component/packs/newPack/newTable/interfacePack/InterfacePack.module.css","component/cardGame/raiting/Rating.module.css","common/preloader/Preloader.module.css","component/cardGame/raiting/star/Star.module.css","style/styleForm.module.css","component/profile/Profile.module.css","api/api.ts","reducers/appReducer.tsx","reducers/registerReducer.tsx","component/register/Register.tsx","reducers/restoreReducer.tsx","component/restorePassword/RestorePassword.tsx","reducers/authReducer.tsx","reducers/profileReducer.tsx","assets/images/nonAvatarPic.png","common/preloader/Preloader.tsx","component/profile/Profile.tsx","component/login/Login.tsx","reducers/newPasswordReducer.tsx","component/newPassword/newPassword.tsx","component/restorePassword/infoSentEmail/InfoSentEmail.tsx","reducers/packReducer.tsx","component/packs/modal/ModalDelete.tsx","component/packs/modal/ModalEdit.tsx","component/packs/newPack/newTable/tableRow/tableRow.tsx","component/packs/newPack/newTable/table/SortButton.tsx","component/packs/newPack/newTable/table/CustomTable.tsx","component/packs/newPack/newTable/Pagination/PaginationComponent.tsx","component/packs/newPack/newTable/interfacePack/Slider.tsx","component/packs/modal/ModalAdd.tsx","component/packs/newPack/newTable/interfacePack/InterfacePack.tsx","reducers/cardReducer.tsx","component/packs/Packs.tsx","component/cards/popup/EditPopup.tsx","component/cards/popup/DeletePopup.tsx","component/cards/card/Card.tsx","component/cards/popup/AddPopup.tsx","component/cards/CardsTable.tsx","assets/images/arrow.png","reducers/cardGameReducer.tsx","component/cardGame/raiting/star/Star.tsx","assets/images/activeStar.png","assets/images/star.png","component/cardGame/raiting/Rating.tsx","component/cardGame/CardGame.tsx","component/routes/RoutesC.tsx","common/errorAlert/ErrorAlert.tsx","App.tsx","store/store.ts","index.tsx","component/packs/newPack/newTable/table/CustomTable.module.css","component/cards/CardsTable.module.css","component/cardGame/CardGame.module.css","component/packs/newPack/newTable/tableRow/Tabble.module.css"],"names":["module","exports","instance","axios","create","baseURL","withCredentials","userAPI","email","password","post","forgot","newPassword","data","delete","profileAPI","put","packAPI","config","get","params","id","cardsPack","_id","name","cardsAPI","min","max","sortCards","page","pageCount","cardsPack_id","cards","card","cardId","updateCard","grade","card_id","initialState","status","statusPack","isMePack","disabledSort","sortPacks","errorMessage","setErrorMessage","error","type","setAppStatus","setPackStatus","packStatus","changeDisabledStatus","typeSortChange","typeSort","isRegister","Register","React","memo","useState","setEmail","password1","setPassword1","password2","setPassword2","pass1","setPass1","pass2","setPass2","dispatch","useDispatch","errorRegister","useSelector","state","register","errorPassword","to","className","styles","form","Paper","s","stylePaper","TextField","textField","label","value","onChange","e","currentTarget","variant","style","marginTop","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","edge","VisibilityOff","Visibility","height","color","textDecoration","marginRight","Button","size","then","res","catch","response","setErrorAC","registerThunk","disabled","statusOfSentMessage","RestorePassword","navigation","useNavigate","restorePass","sendInstruction","from","message","console","log","signupSchema","Yup","shape","required","formik","useFormik","initialValues","validationSchema","onSubmit","values","handleSubmit","touched","Boolean","errors","helperText","placeholder","handleChange","text","buttonStyle","href","isLoggedIn","errorText","setIsLoggedInAC","errorTextResp","profile","avatar","publicCardPacksCount","created","updated","isAdmin","verified","rememberMe","setProfile","Preloader","loader","CircularProgress","Profile","app","auth","editMode","setEditMode","useForm","defaultValues","updatedUser","editProfile","activateEditMode","wrapper","container","photo","src","nonAvatarPic","alt","finally","info","profileData","onDoubleClick","sx","width","marginLeft","padding","info_form","Input","button","Login","validate","length","margin","getFieldProps","FormControlLabel","control","Checkbox","checked","buttonWrapp","isValid","statusNewPassword","NewPassword","token","useParams","newPass","pass","setPass","resetPasswordToken","changePassword","matches","useStyles","makeStyles","display","flexDirection","borderRadius","left","top","justifyContent","alignItems","InfoSentEmail","classes","getPack","createAsyncThunk","a","addPack","getState","user_id","pack","deletePack","param","packName","updatePack","slice","createSlice","cardPacks","path","cardsCount","shots","rating","__v","user_name","cardPacksTotalCount","maxCardsCount","minCardsCount","reducers","setPageCount","action","payload","pageSize","setCurrentPage","setMaxCardsCount","setMinCardsCount","extraReducers","builder","addCase","fulfilled","actions","packReducer","reducer","transform","bgcolor","boxShadow","p","ModalDelete","props","open","setOpen","handleClose","Modal","onClose","Box","Typography","component","mt","gap","packId","ModalEdit","title","setName","upTitleHandler","onKeyPress","key","Row","update","createdName","cardUserId","meProfileId","navigate","rowTable","rowText","textAlign","buttonWrapper","SortButton","sortTitle1","sortTitle0","meUserId","toggleSort0","setToggleSort0","toggleSort1","setToggleSort1","ButtonGroup","orientation","ml","background","fontSize","CustomTable","tableHeader","textHeader","searchHeader","LinearProgress","map","index","substr","PaginationComponent","pageStore","pagesCount","Math","ceil","Pagination","event","pageNumber","count","Select","toString","target","MenuItem","SliderCustom","setValue","Slider","newValue","activeThumb","Array","isArray","clamped","valueLabelDisplay","disableSwap","ModalAdd","InterfacePack","searchPack","interfaceWrapper","tools","InputBase","flex","code","Refresh","fontWeight","Switch","mePack","cardsTotalCount","maxGrade","minGrade","packUserId","loadingStatus","cardError","setCards","setPage","resetCards","statusCard","setError","cardReducer","getCards","resetCardsTC","Packs","useEffect","ContainerTable","elevation","content","arrow__container","EditPopup","question","answer","formState","reset","DeletePopup","deleteCard","Card","profileId","tableWrapper","t","readOnly","Date","toLocaleDateString","tableButton","AddPopup","CardsTable","cardTab","totalCount","round","severity","header__container","arrow","arrow__title","table","table_head","paginator","allCards","cardGameStatus","markValue","showAnswer","gameError","setGameStatus","setMarkValue","setShowAnswer","setAllCards","setCard","setGameError","cardGameReducer","gameInit","getCard","sum","reduce","acc","rand","random","i","newSum","Star","select","starContainer","ActivateStar","DeActivateStar","Rating","cardPack_id","starWrapper","setMark","CardGame","game","rate","buttonShow","buttonFooter","RoutesC","element","Alert","ref","ErrorAlert","reason","isOpen","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","App","snowflakeCount","rootReducer","combineReducers","store","configureStore","middleware","getDefaultMiddleware","prepend","thunkMiddleware","window","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df0a3202.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableWrapper\":\"Card_tableWrapper__36v-K\",\"buttonWrapper\":\"Card_buttonWrapper__OnmLB\",\"tableButton\":\"Card_tableButton__3Te-6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"interfaceWrapper\":\"InterfacePack_interfaceWrapper__1TCa8\",\"tools\":\"InterfacePack_tools__3tu0Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starWrapper\":\"Rating_starWrapper__2_PWg\",\"container\":\"Rating_container__2mV4X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__14u14\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starContainer\":\"Star_starContainer__3AYrn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"styleForm_text__BR-at\",\"stylePaper\":\"styleForm_stylePaper__1s-_G\",\"textField\":\"styleForm_textField__2hW7Z\",\"buttonStyle\":\"styleForm_buttonStyle__2AY2b\",\"form\":\"styleForm_form__2sVcD\",\"buttonWrapp\":\"styleForm_buttonWrapp__157-P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Profile_wrapper__1AyTN\",\"container\":\"Profile_container__9dShy\",\"form\":\"Profile_form__1igXE\",\"info_form\":\"Profile_info_form__1egpn\",\"photo\":\"Profile_photo__1o8EQ\",\"info\":\"Profile_info__2BTtl\",\"button\":\"Profile_button__20D9C\",\"profileData\":\"Profile_profileData__3RezQ\"};","import axios, {AxiosResponse} from 'axios'\r\nimport {ForgotType} from \"../reducers/restoreReducer\";\r\nimport {GetParamsType, PostPackType, UpdatePackType} from \"../reducers/packReducer\";\r\nimport {\r\n    AuthResponseType,\r\n    CardsParamsType,\r\n    GetPackType,\r\n    LoginParamsType,\r\n    NewCardsType,\r\n    ResponseType,\r\n    SetProfileType,\r\n    UpdateCardType\r\n} from \"./types\";\r\nimport {ChangePasswordType} from \"../reducers/newPasswordReducer\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0',\r\n    withCredentials: true,\r\n})\r\nexport const userAPI = {\r\n    register(email: string, password: string) {\r\n        return instance.post(`/auth/register/`, {email, password});\r\n    },\r\n    restorePassword(forgot: ForgotType) {\r\n        return instance.post<AxiosResponse<AuthResponseType>>(`/auth/forgot`, forgot)\r\n    },\r\n    changePassword(newPassword: ChangePasswordType) {\r\n        return instance.post<AxiosResponse<AuthResponseType>>(`/auth/set-new-password`, newPassword)\r\n    },\r\n    login(data: LoginParamsType) {\r\n        return instance.post<ResponseType>('auth/login', data)\r\n    },\r\n    logOut() {\r\n        return instance.delete('/auth/me')\r\n    },\r\n    me() {\r\n        return instance.post('/auth/me')\r\n    },\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    setProfile(data: SetProfileType) {\r\n        return instance.put('/auth/me', data)\r\n    }\r\n}\r\n\r\nexport const packAPI = {\r\n    getPack(config: GetParamsType | void) {\r\n        return instance.get<GetPackType>(`/cards/pack?`, {params: config})\r\n    },\r\n    postPack(data?: PostPackType|void) {\r\n        return instance.post(`cards/pack`, data)\r\n    },\r\n    deletePack(id: string) {\r\n        return instance.delete(`cards/pack/?id=${id}`)\r\n    },\r\n    updatePack(data: UpdatePackType) {\r\n        let {_id, name} = data.cardsPack\r\n        return instance.put(`cards/pack`, {cardsPack: {_id, name}})\r\n    }\r\n\r\n}\r\n\r\nexport const cardsAPI = {\r\n    getCards(params: CardsParamsType) {\r\n        const {min, max, sortCards, page, pageCount,cardsPack_id} = params\r\n        return instance.get('/cards/card', {params: {min, max, sortCards, page, pageCount,cardsPack_id}})\r\n    },\r\n    setCards(cards: NewCardsType) {\r\n        return instance.post('/cards/card', {card: {...cards}})\r\n    },\r\n    deleteCard(cardId: string) {\r\n        return instance.delete('/cards/card', {params: {id: cardId}})\r\n    },\r\n    updateCard(updateCard:UpdateCardType) {\r\n        return instance.put('/cards/card',{card:{...updateCard}})\r\n    },\r\n    gradeCard(grade:number,card_id:string){\r\n        return instance.put('/cards/grade', {grade,card_id})\r\n    }\r\n}\r\n","export type RequestStatusType = 'loading' | 'success' | 'failed'\r\n\r\nexport const initialState = {\r\n    status: 'success' as RequestStatusType,\r\n    statusPack: 'success' as RequestStatusType,\r\n    isMePack: true,\r\n    disabledSort: false,\r\n    sortPacks:\"\",\r\n    errorMessage: \"\",\r\n}\r\n\r\ntype InitialStateType = typeof initialState;\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'APP/SET-STATUS': {\r\n            return {...state, status: action.status}\r\n        }\r\n        case 'APP/SET-PACK-STATUS-LOADER': {\r\n            return {...state, statusPack: action.packStatus}\r\n        }\r\n        case 'APP/CHANGE-STATUS-DISABLED': {\r\n            return {...state, disabledSort: action.disabledSort}\r\n        }\r\n        case 'APP/SORT-TYPE': {\r\n            return {...state, sortPacks: action.typeSort}\r\n        }\r\n        case 'APP/ME-PACK-STATUS': {\r\n            return {...state, isMePack: action.mePack}\r\n        }\r\n        case 'APP/SET-ERROR-MESSAGE': {\r\n            return {...state, errorMessage: action.error}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setErrorMessage = (error: string) => {\r\n    return {type: 'APP/SET-ERROR-MESSAGE', error} as const\r\n}\r\n\r\nexport const setAppStatus = (status: RequestStatusType) => {\r\n    return {type: 'APP/SET-STATUS', status} as const;\r\n}\r\nexport const setPackStatus = (packStatus: RequestStatusType) => {\r\n    return {type: 'APP/SET-PACK-STATUS-LOADER', packStatus} as const;\r\n}\r\n\r\nexport const changeMePackStatus = (mePack: boolean) => {\r\n    return {type: 'APP/ME-PACK-STATUS', mePack} as const;\r\n}\r\n\r\nexport const changeDisabledStatus = (disabledSort: boolean) => {\r\n    return {type: 'APP/CHANGE-STATUS-DISABLED', disabledSort} as const;\r\n}\r\nexport const typeSortChange = (typeSort: string) => {\r\n    return {type: 'APP/SORT-TYPE', typeSort} as const;\r\n}\r\n\r\ntype ActionsType = SetAppStatusType| ChangeMePackStatusType|ChangeDisabledStatusType|TypeSortChangeType|SetPackStatusType|SetErrorMessageType\r\n\r\ntype SetErrorMessageType = ReturnType<typeof setErrorMessage>\r\nexport type SetAppStatusType = ReturnType<typeof setAppStatus>\r\nexport type SetPackStatusType = ReturnType<typeof setPackStatus>\r\nexport type ChangeDisabledStatusType = ReturnType<typeof changeDisabledStatus>\r\nexport type TypeSortChangeType = ReturnType<typeof typeSortChange>\r\nexport type ChangeMePackStatusType = ReturnType<typeof changeMePackStatus>\r\n","import {Dispatch} from \"redux\"\r\nimport {userAPI} from \"../api/api\"\r\nimport {setErrorMessage} from \"./appReducer\";\r\n\r\nconst initialState = {\r\n    error: null,\r\n    isRegister: false\r\n}\r\ntype initialStateType = {\r\n    error: string | null,\r\n    isRegister: boolean\r\n}\r\n// type InitialStateType = typeof initialState\r\ntype ActionType = registerACType | setErrorACType\r\n\r\nexport const registerReducer = (state: initialStateType = initialState, action: ActionType): initialStateType => {\r\n    switch (action.type) {\r\n        case 'REGISTER': {\r\n            return {...state, isRegister: action.isRegister}\r\n        }\r\n        case 'SET_ERROR': {\r\n            return {...state, error: action.error}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\ntype registerACType = ReturnType<typeof registerAC>\r\n\r\nconst registerAC = () => {\r\n    return {type: 'REGISTER', isRegister: true} as const\r\n}\r\n\r\ntype setErrorACType = ReturnType<typeof setErrorAC>\r\n\r\nconst setErrorAC = (error: string | null) => {\r\n    return {type: 'SET_ERROR', error} as const\r\n}\r\nexport const registerThunk = (email: string, password: string) => (dispatch: Dispatch) => {\r\n    userAPI.register(email, password)\r\n        .then((res) => {\r\n            dispatch(registerAC())\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 400) {\r\n                dispatch(setErrorAC(error.response.data.error))\r\n                dispatch(setErrorMessage(error.response.data.error))\r\n            }\r\n        })\r\n}","import React, {ChangeEvent, useState} from \"react\";\r\nimport styles from '../../style/styleForm.module.css'\r\nimport {registerThunk} from \"../../reducers/registerReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {Link, Navigate} from \"react-router-dom\";\r\nimport {IconButton, InputAdornment, TextField} from \"@mui/material\";\r\nimport {Visibility, VisibilityOff} from \"@mui/icons-material\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {Paper} from \"@material-ui/core\";\r\nimport s from \"../../style/styleForm.module.css\";\r\n\r\nexport const Register = React.memo(() => {\r\n    const [email, setEmail] = useState<string>('')\r\n    const [password1, setPassword1] = useState<string>('')\r\n    const [password2, setPassword2] = useState<string>('')\r\n    const [pass1, setPass1] = useState<boolean>(false)\r\n    const [pass2, setPass2] = useState<boolean>(false)\r\n    const dispatch = useDispatch()\r\n    const errorRegister = useSelector<AppRootStateType, string | null>(state => state.register.error)\r\n    const isRegister = useSelector<AppRootStateType, boolean>(state => state.register.isRegister)\r\n    const onChangeEmail = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        setEmail(e.currentTarget.value)\r\n    }\r\n    const onChangePassword1 = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        setPassword1(e.currentTarget.value)\r\n    }\r\n    const onChangePassword2 = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        setPassword2(e.currentTarget.value)\r\n    }\r\n    const onChange = () => {\r\n        if (password1 === password2) {\r\n            dispatch(registerThunk(email, password1))\r\n        }\r\n    }\r\n    let errorPassword = false\r\n    if (password1 !== password2) {\r\n        errorPassword = true\r\n    }\r\n    if (isRegister) {\r\n        return <Navigate to='/login'/>\r\n    }\r\n    const togglePassword1 = () => {\r\n        setPass1(!pass1)\r\n    }\r\n    const togglePassword2 = () => {\r\n        setPass2(!pass2)\r\n    }\r\n    return (\r\n        <div className={styles.form}>\r\n            <Paper className={s.stylePaper}>\r\n                <h1>IT-Incubator</h1>\r\n                <h3>Sign Up</h3>\r\n                <div>\r\n                    <TextField\r\n                        className={s.textField}\r\n                        id=\"outlined-name\"\r\n                        label=\"Email\"\r\n                        value={email}\r\n                        onChange={onChangeEmail}\r\n                        variant={'standard'}\r\n                    />\r\n                </div>\r\n                <div style={{marginTop: 20}}>\r\n                    <TextField\r\n                        className={s.textField}\r\n                        type={pass1 ? 'text' : 'password'}\r\n                        label='Password'\r\n                        value={password1}\r\n                        onChange={onChangePassword1}\r\n                        variant={'standard'}\r\n                        InputProps={{\r\n                            endAdornment: (\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={togglePassword1}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {pass1 ? <VisibilityOff/> : <Visibility/>}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            )\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <div style={{marginTop: 20}}>\r\n                        <TextField\r\n                            className={s.textField}\r\n                            type={pass2 ? 'text' : 'password'}\r\n                            label='Confirm Password'\r\n                            value={password2}\r\n                            onChange={onChangePassword2}\r\n                            variant={'standard'}\r\n                            InputProps={{\r\n                                endAdornment: (\r\n                                    <InputAdornment position=\"end\">\r\n                                        <IconButton\r\n                                            aria-label=\"toggle password visibility\"\r\n                                            onClick={togglePassword2}\r\n                                            edge=\"end\"\r\n                                        >\r\n                                            {pass2 ? <VisibilityOff/> : <Visibility/>}\r\n                                        </IconButton>\r\n                                    </InputAdornment>\r\n                                )\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div style={{height:\"20px\"}}>{errorPassword\r\n                    &&\r\n                    <div style={{color: 'red'}}> Incorrect passwords!</div>\r\n                    ||\r\n                    !!errorRegister\r\n                    &&\r\n                    <div style={{color: 'red'}}>{errorRegister}</div> }\r\n                </div>\r\n\r\n                <div style={{marginTop: \"15px\"}}>\r\n                    <Link to=\"/login\" style={{textDecoration: 'none', marginRight: 50}}>\r\n                        <Button size='medium' variant=\"outlined\">Cancel</Button>\r\n                    </Link>\r\n                    <Button\r\n                        size='medium'\r\n                        onClick={onChange}\r\n                        variant=\"contained\"\r\n                        disabled={!email || !password1 || !password2}\r\n                    >Register</Button>\r\n\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n})","import {Dispatch} from \"redux\";\r\nimport {userAPI} from \"../api/api\";\r\nimport {setErrorMessage} from \"./appReducer\";\r\n\r\n\r\nconst initialState = {\r\n    statusOfSentMessage: false,\r\n    email: \"\",\r\n}\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const restorePassReducer = (state: InitialStateType = initialState, action: ActionRestoreType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"RESTORE/CHANGE-STATUS-MESSAGE\": {\r\n            return {...state, statusOfSentMessage: action.status}\r\n        }\r\n        case \"RESTORE/SET-EMAIL\": {\r\n            return {...state, email: action.email}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport type ActionRestoreType = StatusMessageType  | SetEmailType\r\ntype StatusMessageType = ReturnType<typeof changeStatusMessage>\r\nexport const changeStatusMessage = (status: boolean) => ({type: \"RESTORE/CHANGE-STATUS-MESSAGE\", status} as const)\r\n\r\ntype SetEmailType = ReturnType<typeof setEmail>\r\nexport const setEmail = (email: string) => ({type: \"RESTORE/SET-EMAIL\", email} as const)\r\n\r\n\r\nexport const SendInstructionToEmail = (forgot: ForgotType) => (dispatch: Dispatch) => {\r\n    userAPI.restorePassword(forgot)\r\n        .then((res) => {\r\n            if (res.status === 200)\r\n                dispatch(setEmail(forgot.email))\r\n                dispatch(changeStatusMessage(true))\r\n        })\r\n        .catch(error => {\r\n            console.log(error.response.data.error)\r\n                if (error.response.status === 404 || error.response.status === 401) {\r\n                    dispatch(setErrorMessage(error.response.data.error))\r\n                }\r\n            }\r\n        )\r\n}\r\n\r\n\r\nexport type ForgotType = {\r\n    email: string\r\n    from: string\r\n    message: string\r\n}","import React from \"react\";\r\nimport {SendInstructionToEmail} from \"../../reducers/restoreReducer\";\r\nimport s from '../../style/styleForm.module.css'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {useFormik} from \"formik\";\r\nimport {Button, Paper, TextField} from \"@material-ui/core\";\r\nimport * as Yup from 'yup';\r\n\r\nexport const RestorePassword = () => {\r\n    const navigation = useNavigate()\r\n    const statusOfSentMessage = useSelector<AppRootStateType, boolean>(state => state.restorePass.statusOfSentMessage)\r\n    const dispatch = useDispatch()\r\n\r\n    const from = \"test-front-admin <ai73a@yandex.by>\"\r\n    const message = `<div style=\"background-color: lime; padding: 15px\">\r\n\t<a href='https://pointjkee.github.io/Final-Project-Friday/#/set-new-password/$token$'>Change Password</a></div>`\r\n\r\n    const sendInstruction = (email: string) => {\r\n        dispatch(SendInstructionToEmail({email, from, message}))\r\n    }\r\n\r\n    if (statusOfSentMessage) {\r\n        navigation('/info-sent-email')\r\n    }\r\n\r\n    const signupSchema = Yup.object().shape({\r\n        email: Yup.string()\r\n            .email('Invalid email')\r\n            .required('Required field'),\r\n    });\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: \"\",\r\n        },\r\n        validationSchema: signupSchema,\r\n        onSubmit: values => {\r\n            sendInstruction(values.email)\r\n        },\r\n    });\r\n\r\n    return (\r\n        <form onSubmit={formik.handleSubmit} className={s.form}>\r\n            <Paper className={s.stylePaper}>\r\n                <h1>IT-Incubator</h1>\r\n                <h3>Forgot your password? </h3>\r\n                <TextField\r\n                    className={s.textField}\r\n                    error={formik.touched.email && Boolean(formik.errors.email)}\r\n                    helperText={formik.touched.email && formik.errors.email}\r\n                    variant={'standard'}\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    label={\"Email\"}\r\n                    placeholder={\"Email\"}\r\n                    onChange={formik.handleChange}\r\n                />\r\n                <h4 className={s.text}>Enter your email address and we will send you further instructions </h4>\r\n                <Button className={s.buttonStyle} variant={\"contained\"} type=\"submit\">Send Instructions</Button>\r\n                <Button variant={\"text\"} href={'#/login'}>Try logging in</Button>\r\n            </Paper>\r\n\r\n        </form>\r\n    );\r\n\r\n}","import {userAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {setProfile} from \"./profileReducer\";\r\nimport {setAppStatus, setErrorMessage} from \"./appReducer\";\r\nimport {LoginParamsType} from \"../api/types\";\r\n\r\n\r\ntype ActionsType = setIsLoggedInAT | errorTextResponseAT\r\n\r\ntype setIsLoggedInAT = {\r\n    type: 'LOGIN',\r\n    value: boolean\r\n}\r\ntype errorTextResponseAT = {\r\n    type: 'ERROR_TEXT_RESPONSE',\r\n    errorText: string\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nconst initialState = {\r\n    isLoggedIn: false,\r\n    errorText: ''\r\n}\r\n\r\n\r\nexport const authReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'LOGIN':\r\n            return {...state, isLoggedIn: action.value}\r\n        case 'ERROR_TEXT_RESPONSE':\r\n            return {...state, errorText: action.errorText}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setIsLoggedInAC = (value: boolean): setIsLoggedInAT => ({type: 'LOGIN', value} as const)\r\nexport const errorTextResp = (errorText: string) => ({type: 'ERROR_TEXT_RESPONSE', errorText} as const)\r\n\r\nexport const loginThunk = (data: LoginParamsType) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(setAppStatus('loading'))\r\n        userAPI.login(data)\r\n            .then((res) => {\r\n                dispatch(setProfile(res.data))\r\n                dispatch(setIsLoggedInAC(true))\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n                    const error = e.response ? e.response.data.error : (e.message + ', more details in the console')\r\n                    dispatch(errorTextResp(error))\r\n                    dispatch(setErrorMessage(error))\r\n                }\r\n            )\r\n            .finally(() => {\r\n                dispatch(setAppStatus('success'))\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const logOut = () => (dispatch: Dispatch) => {\r\n    dispatch(setAppStatus('loading'))\r\n    userAPI.logOut()\r\n        .then(() => {\r\n            dispatch(setProfile({\r\n                    _id: null,\r\n                    email: null,\r\n                    name: '',\r\n                    avatar: null,\r\n                    publicCardPacksCount: null,\r\n                    created: null,\r\n                    updated: null,\r\n                    isAdmin: null,\r\n                    verified: null,\r\n                    rememberMe: null,\r\n                    error: null\r\n                })\r\n            )\r\n            dispatch(setAppStatus('success'))\r\n            dispatch(setIsLoggedInAC(false))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response ? e.response.data.error : (e.message + ', more details in the console')\r\n            dispatch(errorTextResp(error))\r\n            dispatch(setAppStatus('failed'))\r\n        })\r\n        .finally(() => {\r\n        dispatch(setAppStatus('success'))\r\n    })\r\n\r\n\r\n}\r\n\r\n\r\nexport const authMe = () => (dispatch: Dispatch) => {\r\n    dispatch(setAppStatus('loading'))\r\n    userAPI.me()\r\n        .then(res => {\r\n            dispatch(setProfile(res.data))\r\n            dispatch(setAppStatus('success'))\r\n            dispatch(setIsLoggedInAC(true))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response ? e.response.data.error : (e.message + ', more details in the console')\r\n            dispatch(errorTextResp(error))\r\n            dispatch(setAppStatus('failed'))\r\n        })\r\n        .finally(() => {\r\n        dispatch(setAppStatus('success'))\r\n    })\r\n}","import {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../api/api\";\r\nimport {setAppStatus, setErrorMessage} from \"./appReducer\";\r\nimport {setIsLoggedInAC} from \"./authReducer\";\r\nimport {SetProfileType} from \"../api/types\";\r\n\r\n\r\nexport type ActionTypes = ReturnType<typeof setProfile>\r\n\r\nexport type ProfileResponseType ={\r\n    _id: string | null;\r\n    email: string | null;\r\n    name: string\r\n    avatar?: string | null\r\n    publicCardPacksCount: number | null\r\n    created: Date | null\r\n    updated: Date | null\r\n    isAdmin: boolean | null\r\n    verified: boolean | null\r\n    rememberMe: boolean | null\r\n    error?: string | null\r\n}\r\n\r\nconst initialState = {\r\n    profile: {\r\n        _id: null as string | null,\r\n        email: null as string | null,\r\n        name: '',\r\n        avatar: null as string | null,\r\n        publicCardPacksCount: null as number | null,\r\n        created: null as Date | null,\r\n        updated: null as Date | null,\r\n        isAdmin: null as boolean | null,\r\n        verified: null as boolean | null,\r\n        rememberMe: null as boolean | null,\r\n        error: null as string | null,\r\n    }\r\n}\r\n\r\n\r\nexport type InitialStateTypeProfile = typeof initialState\r\n\r\nexport const profileReducer = (state: InitialStateTypeProfile = initialState, action: ActionTypes): InitialStateTypeProfile => {\r\n    switch (action.type) {\r\n        case 'SET_PROFILE':\r\n       return {...state,profile: {...state.profile,...action.profile}}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setProfile = (profile:ProfileResponseType) =>({\r\n    type: \"SET_PROFILE\", profile\r\n} as const )\r\n\r\n\r\n\r\nexport const editProfile = (data:SetProfileType) => (dispatch:Dispatch)=>{\r\n        dispatch(setAppStatus('loading'))\r\n    profileAPI.setProfile(data)\r\n        .then(res =>{\r\n            dispatch(setProfile(res.data.updatedUser))\r\n            dispatch(setIsLoggedInAC(true))\r\n            dispatch(setAppStatus('success'))\r\n        })\r\n        .catch(e =>{\r\n            const error = e.response ? e.response.data.error\r\n                : (e.message + ', more details in the console');\r\n            dispatch(setErrorMessage(error))\r\n            dispatch(setAppStatus('failed'))\r\n        })\r\n\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/nonAvatarPic.a8c47987.png\";","import * as React from 'react';\r\nimport {CircularProgress} from \"@mui/material\";\r\nimport s from './Preloader.module.css'\r\n\r\nexport const Preloader=()=> {\r\n    return (\r\n       <div className={s.loader}>\r\n           <CircularProgress />\r\n       </div>\r\n    );\r\n}","import {Button, Input} from '@mui/material';\r\nimport React, {useState} from 'react';\r\nimport s from './Profile.module.css'\r\nimport {useForm} from \"react-hook-form\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {editProfile, InitialStateTypeProfile} from \"../../reducers/profileReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport nonAvatarPic from \"../../assets/images/nonAvatarPic.png\"\r\nimport {Link, Navigate, useNavigate} from \"react-router-dom\";\r\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward';\r\nimport {logOut} from \"../../reducers/authReducer\";\r\nimport {RequestStatusType} from \"../../reducers/appReducer\";\r\nimport {Preloader} from \"../../common/preloader/Preloader\";\r\nimport {Paper} from \"@material-ui/core\";\r\n\r\nconst Profile = () => {\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status)\r\n    const profile = useSelector<AppRootStateType, InitialStateTypeProfile>(state => state.profile);\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n\r\n\r\n    const {\r\n        email,\r\n        name,\r\n        avatar\r\n    } = profile.profile\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    const {register, handleSubmit} = useForm({\r\n        defaultValues: {\r\n            name: name,\r\n            avatar: avatar\r\n        }\r\n    })\r\n    const onSubmit = handleSubmit(data => {\r\n        console.log(data)\r\n        dispatch(editProfile(data))\r\n    });\r\n\r\n    const activateEditMode = () => setEditMode(true)\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n    }\r\n\r\n\r\n    const onLogOutClick = () => {\r\n        dispatch(logOut())\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return <Navigate to='/login'/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <Paper className={s.container}>\r\n                <div className={s.photo}>\r\n                    <h2>Personal Information</h2>\r\n                    <img\r\n                        src={avatar ? avatar : nonAvatarPic}\r\n                        alt=\"photo\"/>\r\n                </div>\r\n                {status === 'loading' && <Preloader/>}\r\n                <div style={{marginTop:\"10px\"}}>\r\n                    <Button onClick={onLogOutClick} variant={\"outlined\"}>Log out</Button>\r\n                </div>\r\n                {!editMode && <div className={s.info}>\r\n                    <span>NickName</span>\r\n                    <div className={s.profileData} onDoubleClick={activateEditMode}>{name}</div>\r\n                    <span>Email</span>\r\n                    <div className={s.profileData} onDoubleClick={activateEditMode}>{email}</div>\r\n\r\n                    <Link to=\"/packs\" style={{textDecoration: 'none'}}>\r\n                        <Button size='small' sx={{height:\"40px\", width:\"100%\", marginTop:\"20px\"}} variant={\"contained\"}>\r\n                            Go to pack\r\n                            <ArrowForwardIcon sx={{marginLeft:\"10px\", padding:\"2px\"}}/>\r\n                        </Button>\r\n                    </Link>\r\n\r\n                </div>}\r\n\r\n                {editMode && <form className={s.form} onSubmit={onSubmit}>\r\n                    <div className={s.info_form}>\r\n                        <span>NickName</span>\r\n                        <Input {...register('name')}/>\r\n                        <span>Image Url</span>\r\n                        <Input {...register('avatar')}/>\r\n                    </div>\r\n                    <div className={s.button}>\r\n                        <Button onClick={deactivateEditMode} variant=\"contained\" color=\"secondary\">Cancel</Button>\r\n                        <Button variant=\"contained\" color=\"primary\" type=\"submit\">Save</Button>\r\n                    </div>\r\n\r\n                </form>\r\n                }\r\n\r\n\r\n            </Paper>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;\r\n\r\n\r\n","import React from 'react'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {loginThunk} from \"../../reducers/authReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {useFormik} from \"formik\";\r\nimport {Checkbox, FormControlLabel, Link, Paper, TextField} from \"@material-ui/core\";\r\nimport Button from \"@mui/material/Button\";\r\nimport s from '../../style/styleForm.module.css'\r\n\r\nexport const Login = () => {\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const formik = useFormik({\r\n            validate: (values) => {\r\n                if (!values.email) {\r\n                    return {email: 'Email is required'}\r\n                }\r\n                if (!values.password) {\r\n                    return {password: 'Password is required'}\r\n                }\r\n                if (values.password.length < 7) {\r\n                    return {password: 'Password is at least seven characters'}\r\n                }\r\n            },\r\n            initialValues: {\r\n                email: 'nya-admin@nya.nya',\r\n                password: '1qazxcvBG',\r\n                rememberMe: false\r\n            },\r\n            onSubmit: values => {\r\n                dispatch(loginThunk(values))\r\n            },\r\n        }\r\n    );\r\n    if (isLoggedIn) {\r\n        return <Navigate to='/profile'/>\r\n    }\r\n\r\n    return (\r\n        <form className={s.form} onSubmit={formik.handleSubmit}>\r\n            <Paper className={s.stylePaper}>\r\n                <h1>IT-Incubator</h1>\r\n                <h3>Sign In</h3>\r\n                <TextField\r\n                    className={s.textField}\r\n                    label='Email'\r\n                    type='email'\r\n                    margin='normal'\r\n                    variant='standard'\r\n                    {...formik.getFieldProps('email')}/>\r\n                {formik.errors.email ? <div style={{color: 'red'}}>{formik.errors.email}</div> : null}\r\n                <TextField\r\n                    className={s.textField}\r\n                    label='Password'\r\n                    type='password'\r\n                    margin='normal'\r\n                    variant='standard'\r\n                    {...formik.getFieldProps('password')}/>\r\n                {formik.errors.password ? <div style={{color: 'red'}}>{formik.errors.password}</div> : null}\r\n                <FormControlLabel label='Remember me'\r\n                                  control={<Checkbox\r\n                                      {...formik.getFieldProps('rememberMe')}\r\n                                      checked={formik.values.rememberMe}/>}/>\r\n\r\n                <div className={s.buttonWrapp}>\r\n                    <Button variant={\"text\"} href={'#/restore'}>Forgot?</Button>\r\n                    <Button variant={\"text\"} href={'#/register'}>Register</Button>\r\n                </div>\r\n                <Button className={s.buttonStyle} type={'submit'} variant=\"contained\" disabled={!formik.isValid}>Login</Button>\r\n            </Paper>\r\n        </form>\r\n    )\r\n}","import {Dispatch} from \"redux\";\r\nimport {userAPI} from \"../api/api\";\r\nimport {setErrorMessage} from \"./appReducer\";\r\n\r\n\r\nconst initialState = {\r\n    statusNewPassword: false\r\n}\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const newPasswordReducer = (state: InitialStateType = initialState, action: ChangePasswordActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"NEW-PASSWORD/CHANGE-STATUS-PASSWORD\":{\r\n            return {...state, statusNewPassword: action.status}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport type ChangePasswordActionsType = NewPasswordType\r\n\r\ntype NewPasswordType = ReturnType<typeof statusPasswordChange>\r\nexport const statusPasswordChange = (status: boolean) => ({type:\"NEW-PASSWORD/CHANGE-STATUS-PASSWORD\", status} as const)\r\n\r\nexport const changePassword = (newPassword: ChangePasswordType) => (dispatch:Dispatch) => {\r\n        userAPI.changePassword(newPassword)\r\n            .then(res=>{\r\n                    dispatch(statusPasswordChange(true))\r\n            })\r\n            .catch(error => {\r\n                if (error.response.status === 404 || error.response.status === 401) {\r\n                    dispatch(setErrorMessage(error.response.data.error))\r\n                }\r\n            })\r\n}\r\n\r\nexport type ChangePasswordType={\r\n    password: string\r\n    resetPasswordToken: string|undefined\r\n}\r\n","import React, {useState} from \"react\";\r\nimport s from '../../style/styleForm.module.css'\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {changePassword} from \"../../reducers/newPasswordReducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport * as Yup from \"yup\";\r\nimport {useFormik} from \"formik\";\r\nimport {Button, Paper, TextField} from \"@material-ui/core\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {IconButton, InputAdornment} from \"@mui/material\";\r\nimport {Visibility, VisibilityOff} from \"@mui/icons-material\";\r\n\r\nexport const NewPassword = () => {\r\n    const {token} = useParams()\r\n    const dispatch = useDispatch()\r\n    const statusNewPassword = useSelector<AppRootStateType, boolean>(state => state.newPass.statusNewPassword)\r\n    const navigation = useNavigate()\r\n    const [pass, setPass] = useState<boolean>(false)\r\n\r\n    const togglePassword = () => {\r\n        setPass(!pass)\r\n    }\r\n\r\n    const resetPasswordToken = token\r\n    const newPassword = (password: string) => {\r\n        if (token) {\r\n            dispatch(changePassword({password, resetPasswordToken}))\r\n        }\r\n    }\r\n\r\n    const signupSchema = Yup.object({\r\n        password: Yup.string()\r\n            .required('Please Enter your password')\r\n            .min(7)\r\n            .matches(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{7,}/, \"Password must contain at least 7 characters, one uppercase, one number and one lowwer case character\")\r\n    });\r\n\r\n    if (statusNewPassword) {\r\n        navigation('/login')\r\n    }\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            password: \"\",\r\n        },\r\n        validationSchema: signupSchema,\r\n        onSubmit: values => {\r\n            newPassword(values.password)\r\n        },\r\n    });\r\n\r\n    return (\r\n        <form onSubmit={formik.handleSubmit} className={s.form} >\r\n            <Paper className={s.stylePaper}>\r\n                <h1>It-incubator</h1>\r\n                <h2>Create new password </h2>\r\n                <TextField\r\n                    className={s.textField}\r\n                    error={formik.touched.password && Boolean(formik.errors.password)}\r\n                    helperText={formik.touched.password && formik.errors.password}\r\n                    variant={'standard'}\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    type={pass ? 'text' : 'password'}\r\n                    placeholder={\"Password\"}\r\n                    onChange={formik.handleChange}\r\n                    InputProps={{\r\n                        endAdornment: (\r\n                            <InputAdornment position=\"end\">\r\n                                <IconButton\r\n                                    aria-label=\"toggle password visibility\"\r\n                                    onClick={togglePassword}\r\n                                    edge=\"end\"\r\n                                >\r\n                                    {pass ? <VisibilityOff/> : <Visibility/>}\r\n                                </IconButton>\r\n                            </InputAdornment>\r\n                        )\r\n                    }}\r\n                />\r\n                <h4 className={s.text}>Create new password and we will send you further instruction to email</h4>\r\n                <Button className={s.buttonStyle} variant={\"contained\"} type=\"submit\">Create new password</Button>\r\n            </Paper>\r\n        </form>\r\n    );\r\n}","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../store/store\";\r\nimport {Paper} from \"@mui/material\";\r\nimport {makeStyles} from \"@mui/styles\";\r\nimport SentimentVerySatisfiedIcon from '@mui/icons-material/SentimentVerySatisfied';\r\n\r\nconst useStyles = makeStyles({\r\n    stylePaper : {\r\n        width: \"413px\",\r\n        height: \"468px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        borderRadius: \"8px\",\r\n        left: \"434px\",\r\n        top: \"126px\",\r\n        padding: \"33px\",\r\n        justifyContent: \"space-evenly\",\r\n        alignItems: \"center\",\r\n    }\r\n});\r\n\r\nexport const InfoSentEmail = () => {\r\n    const email = useSelector<AppRootStateType, string>(s => s.restorePass.email)\r\n    const classes = useStyles()\r\n\r\n    return (\r\n\r\n        <div style={{display: \"flex\", justifyContent: 'center', alignItems: 'center'}}>\r\n            <Paper className={classes.stylePaper}>\r\n                <h1>It-incubator</h1>\r\n                <div>\r\n                    <SentimentVerySatisfiedIcon color={\"success\"} style={{width:\"108px\", height:\"108px\"}}/>\r\n                </div>\r\n                <h2  style={{color: \"green\"}}>Check Email </h2>\r\n                <h4 style={{color: \"#a9a9a9\"}}>We’ve sent an Email with instructions to email {email}</h4>\r\n            </Paper>\r\n       </div>\r\n    )\r\n}","import {packAPI} from \"../api/api\";\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {setErrorMessage, setPackStatus} from \"./appReducer\";\r\n\r\nconst initialState = {\r\n    cardPacks: [{\r\n        _id: \"\",\r\n        user_id: \"\",\r\n        name: \"\",\r\n        path: \"\",\r\n        cardsCount: 0,\r\n        grade: 0,\r\n        shots: 0,\r\n        rating: 0,\r\n        type: \"\",\r\n        created: \"\",\r\n        updated: \"\",\r\n        __v: 0,\r\n        user_name: \"\",\r\n    }],\r\n    cardPacksTotalCount: 0,\r\n    maxCardsCount: 103,\r\n    minCardsCount: 0,\r\n    page: 1,\r\n    pageCount: 10,\r\n}\r\n\r\n\r\nexport const getPack = createAsyncThunk('pack/getPack', async (params: GetParamsType | void,{dispatch}) => {\r\n    dispatch(setPackStatus('loading'));\r\n    const res = await packAPI.getPack(params);\r\n    dispatch(setPackStatus('success'));\r\n    return res.data;\r\n})\r\n\r\n\r\nexport const addPack = createAsyncThunk('pack/addPack',\r\n    async (data: PostPackType|void, {dispatch, getState}) => {\r\n        const value = getState() as AppRootStateType\r\n        let user_id = value.profile.profile._id !== null && value.app.isMePack? value.profile.profile._id: \"\";\r\n        dispatch(setPackStatus('loading'));\r\n        await packAPI.postPack(data);\r\n        dispatch(getPack({pageCount: value.pack.pageCount,user_id}));\r\n        dispatch(setPackStatus('success'));\r\n    })\r\n\r\nexport const deletePack = createAsyncThunk('pack/deletePack',\r\n    async (param: { id: string, packName: string }, {dispatch, getState}) => {\r\n        dispatch(setPackStatus('loading'))\r\n        const value = getState() as AppRootStateType\r\n        let user_id = value.profile.profile._id !== null && value.app.isMePack? value.profile.profile._id: \"\";\r\n        await packAPI.deletePack(param.id)\r\n        dispatch(getPack({packName: param.packName,user_id, pageCount: value.pack.pageCount, page: value.pack.page}));\r\n        dispatch(setPackStatus('success'));\r\n    })\r\n\r\nexport const updatePack = createAsyncThunk('pack/updatePack', async (data: UpdatePackType, {dispatch, getState}) => {\r\n    dispatch(setPackStatus('loading'))\r\n    packAPI.updatePack(data).then(() => {\r\n        const value = getState() as AppRootStateType\r\n        let user_id = value.profile.profile._id !== null && value.app.isMePack? value.profile.profile._id: \"\";\r\n        dispatch(getPack({pageCount: value.pack.pageCount,user_id}))\r\n        dispatch(setPackStatus('success'))\r\n    })\r\n})\r\n\r\nexport const slice = createSlice({\r\n    name: \"task\",\r\n    initialState,\r\n    reducers: {\r\n        setPageCount: (state, action: PayloadAction<{ pageSize: number }>) => {\r\n            state.pageCount = action.payload.pageSize\r\n        },\r\n        setCurrentPage: (state, action: PayloadAction<{ page: number }>) => {\r\n            state.page = action.payload.page\r\n        },\r\n        setMaxCardsCount: (state, action: PayloadAction<{ maxCardsCount: number }>) => {\r\n            state.maxCardsCount = action.payload.maxCardsCount\r\n        },\r\n        setMinCardsCount: (state, action: PayloadAction<{ minCardsCount: number }>) => {\r\n            state.minCardsCount = action.payload.minCardsCount\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(getPack.fulfilled, (state, action) => {\r\n                state.cardPacks =  action.payload.cardPacks\r\n                state.cardPacksTotalCount =  action.payload.cardPacksTotalCount\r\n                state.page =  action.payload.page\r\n                state.pageCount =  action.payload.pageCount\r\n            })\r\n    }\r\n});\r\n\r\nexport const {setPageCount,setMaxCardsCount,setMinCardsCount} = slice.actions\r\n\r\nexport const packReducer = slice.reducer\r\n\r\nexport type InitialStateTypeProfile = typeof initialState\r\n\r\nexport type UpdatePackType = {\r\n    cardsPack: {\r\n        _id: string\r\n        name?: string\r\n    }\r\n}\r\n\r\nexport type PostPackType = {\r\n    cardsPack: {\r\n        name?: string\r\n        path?: string\r\n        grade?: number\r\n        shots?: number\r\n        rating?: number\r\n        deckCover?: string\r\n        private?: boolean\r\n        type?: string\r\n    }\r\n}\r\n\r\nexport type cardPacksType =\r\n    {\r\n        _id: string;\r\n        user_id: string;\r\n        name: string;\r\n        path: string;\r\n        cardsCount: number;\r\n        grade: number;\r\n        shots: number;\r\n        rating: number;\r\n        type: string;\r\n        created: string;\r\n        updated: string;\r\n        __v: number;\r\n        user_name: string;\r\n    }[]\r\n\r\nexport type GetParamsType = {\r\n    packName?: string\r\n    min?: number\r\n    max?: number\r\n    sortPacks?: number| string\r\n    page?: number\r\n    pageCount?: number\r\n    user_id?: string\r\n    user_name?: string\r\n}","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Modal from '@mui/material/Modal';\r\nimport {deletePack} from \"../../../reducers/packReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {TextField} from \"@material-ui/core\";\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 400,\r\n    borderRadius: \"8px\",\r\n    bgcolor: '#ECECF9',\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\ntype propsType = {\r\n    text: string,\r\n    packId: string\r\n}\r\n\r\nexport default function ModalDelete(props: propsType) {\r\n    const dispatch = useDispatch()\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleOpenDelete = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n    const clickDeletePack = () => {\r\n        dispatch(deletePack({packName: props.text, id: props.packId}))\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button style={{width: \"30%\"}} size={\"small\"} variant={\"contained\"} color={\"error\"} onClick={handleOpenDelete}>\r\n                Delete\r\n            </Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box sx={style}>\r\n                    <Typography id=\"modal-modal-title\" variant=\"h5\" component=\"h2\" style={{display:\"flex\", justifyContent:\"center\"}}>\r\n                        DELETE PACK?\r\n                    </Typography>\r\n                    <Typography id=\"modal-modal-description\" sx={{mt: 3, width:\"100%\"}} style={{display:\"flex\", gap: \"20px\",flexDirection:\"column\"}}>\r\n                        <div style={{display:\"flex\",justifyContent:\"center\", gap: \"10px\"}}>\r\n                            <Button variant={\"contained\"} color={\"error\"} size='small' onClick={clickDeletePack}>Delete</Button>\r\n                            <Button variant={\"contained\"} color={\"inherit\"} size='small' onClick={handleClose}>Сancel</Button>\r\n                        </div>\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Modal from '@mui/material/Modal';\r\nimport {ChangeEvent, useState, KeyboardEvent} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {updatePack} from \"../../../reducers/packReducer\";\r\nimport {TextField} from \"@material-ui/core\";\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderRadius: \"8px\",\r\n    width: 400,\r\n    bgcolor: '#ECECF9',\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\ntype propsType = {\r\n    title: string,\r\n    packId: string\r\n}\r\n\r\nexport default function ModalEdit(props: propsType) {\r\n    const dispatch = useDispatch()\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n    const [name, setName] = useState(props.title)\r\n\r\n    const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setName(e.currentTarget.value)\r\n    }\r\n    const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === \"Enter\") {\r\n            upTitleHandler()\r\n        }\r\n    }\r\n    const upTitleHandler = () => {\r\n        dispatch(updatePack({\r\n            cardsPack: {\r\n                _id: props.packId,\r\n                name: name\r\n            }\r\n        }))\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button style={{width: \"30%\"}} size={\"small\"} variant={\"contained\"} color={\"success\"} onClick={handleOpen}>\r\n            Edit\r\n            </Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box sx={style}>\r\n                    <Typography id=\"modal-modal-title\" variant=\"h5\" component=\"h2\" style={{display:\"flex\", justifyContent:\"center\"}}>\r\n                        NEW NAME\r\n                    </Typography>\r\n                    <Typography id=\"modal-modal-description\" sx={{mt: 3, width:\"100%\"}} style={{display:\"flex\", gap: \"20px\",flexDirection:\"column\"}}>\r\n                        <TextField color={\"success\"} variant={\"standard\"} size={\"small\"} onChange={onChangeHandler} value={name} onKeyPress={onKeyPressHandler}/>\r\n                        <div style={{display:\"flex\",justifyContent:\"center\", gap: \"10px\"}}>\r\n                            <Button variant={\"contained\"} color={\"success\"} size='small' onClick={upTitleHandler}>Edit</Button>\r\n                            <Button variant={\"contained\"} color={\"inherit\"} size='small' onClick={handleClose}>Сancel</Button>\r\n                        </div>\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import * as React from 'react';\r\nimport style from './Tabble.module.css'\r\nimport {Button} from \"@material-ui/core\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../../../store/store\";\r\nimport ModalDelete from \"../../../modal/ModalDelete\";\r\nimport ModalEdit from \"../../../modal/ModalEdit\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\ntype RowPropsType = {\r\n    name: string\r\n    cards: number\r\n    update: string\r\n    createdName: string\r\n    packId: string\r\n    cardUserId: string\r\n    text: string\r\n}\r\n\r\nexport const Row = ({name, cards, update, createdName, cardUserId, packId, text}: RowPropsType) => {\r\n    const meProfileId = useSelector<AppRootStateType, string | null>(s => s.profile.profile._id)\r\n    const navigate = useNavigate()\r\n\r\n\r\n    const onCardsNavigateClick = () => {\r\n        return navigate('/cards/' + packId)\r\n    }\r\n\r\n    const onGameNavigateClick = () => {\r\n        navigate('/game/' + packId)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className={style.rowTable}>\r\n                <div className={style.rowText} style={{textAlign: \"start\"}}> {name} </div>\r\n                <div className={style.rowText} style={{width: \"30%\"}}>{cards}</div>\r\n                <div className={style.rowText} style={{width: \"100%\"}}>{update}</div>\r\n                <div className={style.rowText}>{createdName}</div>\r\n\r\n                <div className={style.buttonWrapper}>\r\n\r\n                    {cardUserId === meProfileId &&\r\n                    <>\r\n                        <ModalDelete packId={packId} text={text}/>\r\n                        <ModalEdit title={name} packId={packId}/>\r\n                    </>}\r\n\r\n                    <Button style={{width: \"30%\"}} size={\"small\"} variant={\"contained\"}\r\n                            color={\"secondary\"}\r\n                            onClick={onCardsNavigateClick}>Look</Button>\r\n                    {cards > 0 && <>\r\n                        <Button\r\n                            style={{width: \"30%\"}} size={\"small\"} variant={\"contained\"}\r\n                            color={\"secondary\"}\r\n                            onClick={onGameNavigateClick}>Learn</Button>\r\n                    </>}\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}","import * as React from \"react\";\r\nimport {ButtonGroup, IconButton} from \"@material-ui/core\";\r\nimport Button from \"@mui/material/Button\";\r\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\r\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\r\nimport {useState} from \"react\";\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../../../store/store\";\r\nimport {getPack} from \"../../../../../reducers/packReducer\";\r\nimport {changeDisabledStatus, typeSortChange} from \"../../../../../reducers/appReducer\";\r\n\r\ntype PropsType = {\r\n    sortTitle1: string\r\n    sortTitle0: string\r\n}\r\n\r\nexport const SortButton = ({sortTitle1,sortTitle0}: PropsType) => {\r\n    const page = useSelector<AppRootStateType, number>(s => s.pack.page)\r\n    const pageCount = useSelector<AppRootStateType, number>(s => s.pack.pageCount)\r\n    const isMePack = useSelector<AppRootStateType, boolean>(s => s.app.isMePack)\r\n    const meUserId = useSelector<AppRootStateType, string | null>(s => s.profile.profile._id)\r\n    const min = useSelector<AppRootStateType, number>(s => s.pack.minCardsCount)\r\n    const max = useSelector<AppRootStateType, number>(s => s.pack.maxCardsCount)\r\n    const disabled = useSelector<AppRootStateType, boolean>(s=>s.app.disabledSort)\r\n    const dispatch = useDispatch()\r\n\r\n    const [toggleSort0, setToggleSort0] = useState(false)\r\n    const [toggleSort1, setToggleSort1] = useState(false)\r\n\r\n    let user_id = meUserId !== null && isMePack ? meUserId : \"\";\r\n\r\n    const sortChange0 = () => {\r\n        setToggleSort0(true)\r\n        setToggleSort1(false)\r\n        dispatch(changeDisabledStatus(true))\r\n        dispatch(typeSortChange(sortTitle0))\r\n        dispatch(getPack({pageCount, sortPacks: sortTitle0, user_id, min, max}))\r\n    }\r\n    const sortChange1 = () => {\r\n        setToggleSort0(false)\r\n        setToggleSort1(true)\r\n        dispatch(typeSortChange(sortTitle1))\r\n        dispatch(changeDisabledStatus(true))\r\n        dispatch(typeSortChange(sortTitle1))\r\n        dispatch(getPack({pageCount, sortPacks: sortTitle1, user_id, min, max}))\r\n    }\r\n\r\n    const cancelSort = () => {\r\n        setToggleSort0(false)\r\n        setToggleSort1(false)\r\n        dispatch(getPack({pageCount, user_id, min, max}))\r\n        dispatch(typeSortChange(\"\"))\r\n        dispatch(changeDisabledStatus(false))\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div style={{display: \"flex\", alignItems: \"center\", gap: \"5px\"}}>\r\n                <ButtonGroup\r\n                    orientation=\"vertical\"\r\n                    aria-label=\"vertical outlined button group\"\r\n                    sx={{ml: \"10px\"}}\r\n                    disabled={disabled}\r\n                >\r\n                    <Button onClick={sortChange0} sx={{width: \"18px\", height: \"18px\", padding: \"0\"}} style={toggleSort0 ? {background:\"#9026a6\", color:\"white\"}:{background:\"\"}}  variant={ \"outlined\"}\r\n                            color={\"secondary\"}>\r\n                        <ArrowUpwardIcon style={{padding: \"2px\"}}/>\r\n                    </Button>\r\n\r\n\r\n                    <Button onClick={sortChange1} sx={{width: \"18px\", height: \"18px\", padding: \"0\"}} style={   toggleSort1 ? {background:\"#283fcc\", color:\"white\"}:{background:\"\"}}  variant={\"outlined\"}\r\n                            color={\"primary\"}>\r\n                        <ArrowDownwardIcon fontSize={\"small\"} sx={{p: \"5\"}}/>\r\n                    </Button>\r\n                </ButtonGroup>\r\n\r\n                {(toggleSort0 || toggleSort1) &&\r\n                <div><IconButton style={{padding: \"0\"}} onClick={cancelSort} size={\"small\"} color={\"warning\"}>< CloseIcon/></IconButton></div>}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n","import {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../../../store/store\";\r\nimport {cardPacksType} from \"../../../../../reducers/packReducer\";\r\nimport {LinearProgress, Paper} from \"@material-ui/core\";\r\nimport style from \"./CustomTable.module.css\";\r\nimport {Row} from \"../tableRow/tableRow\";\r\nimport * as React from \"react\";\r\nimport {SortButton} from \"./SortButton\";\r\nimport {RequestStatusType} from \"../../../../../reducers/appReducer\";\r\n\r\ntype PropsType = {\r\n    text: string\r\n}\r\n\r\nexport const CustomTable = ({text}:PropsType) => {\r\n    const cardPacks = useSelector<AppRootStateType, cardPacksType>(s => s.pack.cardPacks)\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(s => s.app.statusPack)\r\n    return (\r\n        <div>\r\n            <Paper style={{boxShadow: \"#bde0ea -2px 15px 15px 1px\"}}>\r\n                <div className={style.tableHeader}>\r\n                    <div className={style.textHeader}>\r\n                        <div className={style.searchHeader} style={{justifyContent: \"start\"}}>Name <SortButton sortTitle1={\"1name\"} sortTitle0={\"0name\"}/></div>\r\n                    </div>\r\n                    <div className={style.textHeader} style={{width: \"30%\"}}>\r\n                        <div className={style.searchHeader}>Cards <SortButton sortTitle0={\"0cardsCount\"} sortTitle1={\"1cardsCount\"}/></div>\r\n                    </div>\r\n                    <div className={style.textHeader}>\r\n                        <div className={style.searchHeader} style={{width: \"100%\"}}>Last Updated <SortButton sortTitle1={\"1updated\"} sortTitle0={\"0updated\"}/></div>\r\n                    </div>\r\n                    <div className={style.textHeader}>\r\n                          <div className={style.searchHeader}>Created by<SortButton sortTitle1={\"1user_name\"} sortTitle0={\"0user_name\"}/></div>\r\n                    </div>\r\n                    <div className={style.textHeader} style={{width: \"80%\"}}>\r\n                      Actions\r\n                    </div>\r\n\r\n                </div>\r\n                <div style={{height:\"1px\"}}>\r\n                    {status === 'loading' && <LinearProgress/>}\r\n                </div>\r\n                {cardPacks.map((s, index) => {\r\n                    return <div  key={s._id} style={index % 2 === 0 ? {background: \"white\"} : {background: \"#ECECF9\"}}>\r\n                            <Row\r\n                            text={text}\r\n                            cardUserId={s.user_id}\r\n                            packId={s._id}\r\n                            name={s.name.substr(0, 35)}\r\n                            cards={s.cardsCount}\r\n                            update={s.updated.substr(0, 35)}\r\n                            createdName={s.user_name.substr(0, 35)}\r\n                        />\r\n                    </div>\r\n                })}\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import * as React from 'react';\r\nimport {MenuItem, Pagination, Select, SelectChangeEvent} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getPack, setPageCount} from \"../../../../../reducers/packReducer\";\r\nimport {AppRootStateType} from \"../../../../../store/store\";\r\n\r\ntype PropsType = {\r\n    text: string\r\n}\r\n\r\n\r\nexport const PaginationComponent = ({text}:PropsType) => {\r\n    const dispatch = useDispatch()\r\n    const cardPacksTotalCount = useSelector<AppRootStateType, number>(s => s.pack.cardPacksTotalCount)\r\n    const min = useSelector<AppRootStateType, number>(s => s.pack.minCardsCount)\r\n    const max = useSelector<AppRootStateType, number>(s => s.pack.maxCardsCount)\r\n    const pageCount = useSelector<AppRootStateType, number>(s=>s.pack.pageCount)\r\n    const pageStore = useSelector<AppRootStateType, number>(s => s.pack.page)\r\n    const sortPacks = useSelector<AppRootStateType, string>(s => s.app.sortPacks)\r\n    const meUserId = useSelector<AppRootStateType, string|null>(s=>s.profile.profile._id)\r\n    const isMePack = useSelector<AppRootStateType, boolean>(s => s.app.isMePack)\r\n\r\n\r\n    let user_id = \"\";\r\n    if(meUserId !== null && isMePack){\r\n        user_id = meUserId\r\n    }\r\n\r\n    const onClickPageItem = (pageNumber: number) => {\r\n        if(pageNumber !== pageStore){\r\n            dispatch(getPack({page: pageNumber,user_id,max:max,min:min,sortPacks, pageCount: pageCount, packName:text}))\r\n        }\r\n    }\r\n\r\n    const changePageCount = (event: SelectChangeEvent<string>) => {\r\n        if(+event.target.value !== pageCount){\r\n            dispatch(setPageCount({pageSize: +event.target.value}))\r\n            dispatch(getPack({pageCount: +event.target.value,max:max,min:min,user_id, packName:text,sortPacks}))\r\n        }\r\n\r\n    }\r\n\r\n\r\n    let pagesCount = Math.ceil(cardPacksTotalCount / pageCount)\r\n\r\n    return (\r\n        <div>\r\n            <div style={{margin: \"15px 0\", width: \"90%\", display: \"flex\", alignItems: \"start\"}}>\r\n\r\n                <Pagination onChange={(event, page) => {\r\n                    onClickPageItem(page)\r\n                }}\r\n                         page={pageStore} color={\"primary\"} count={pagesCount} shape=\"rounded\"\r\n                />\r\n\r\n\r\n                <Select\r\n                    style={{height: \"32px\", width: \"80px\"}}\r\n                    size={\"small\"}\r\n                    value={pageCount.toString()}\r\n                    variant={\"outlined\"}\r\n                    onChange={changePageCount}\r\n                >\r\n                    <MenuItem value={10}>10</MenuItem>\r\n                    <MenuItem value={20}>20</MenuItem>\r\n                    <MenuItem value={50}>50</MenuItem>\r\n                    <MenuItem value={100}>100</MenuItem>\r\n                </Select>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Slider from '@mui/material/Slider';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../../../store/store\";\r\nimport {getPack, setMaxCardsCount, setMinCardsCount} from \"../../../../../reducers/packReducer\";\r\nimport {Search} from \"@material-ui/icons\";\r\nimport {IconButton} from \"@material-ui/core\";\r\n\r\n\r\nexport default function SliderCustom() {\r\n    const min = useSelector<AppRootStateType, number>(s => s.pack.minCardsCount)\r\n    const max = useSelector<AppRootStateType, number>(s => s.pack.maxCardsCount)\r\n    const pageSize = useSelector<AppRootStateType, number>(s => s.pack.pageCount)\r\n    const sortPacks = useSelector<AppRootStateType, string>(s => s.app.sortPacks)\r\n    const dispatch = useDispatch()\r\n    const [value, setValue] = React.useState<number[]>([min, max]);\r\n    console.log(value)\r\n\r\n    const isMePack = useSelector<AppRootStateType, boolean>(s => s.app.isMePack)\r\n    const meUserId = useSelector<AppRootStateType, string | null>(s => s.profile.profile._id)\r\n\r\n\r\n    let user_id = meUserId !== null && isMePack ? meUserId : \"\";\r\n\r\n    const minDistance = 0;\r\n\r\n    const handleChange = (event: Event, newValue: number | number[], activeThumb: number) => {\r\n        if (!Array.isArray(newValue)) {\r\n            return;\r\n        }\r\n\r\n        if (newValue[1] - newValue[0] < minDistance) {\r\n            if (activeThumb === 0) {\r\n                const clamped = Math.min(newValue[0], 103 - minDistance);\r\n                setValue([clamped, clamped + minDistance]);\r\n\r\n            } else {\r\n                const clamped = Math.max(newValue[1], minDistance);\r\n                setValue([clamped - minDistance, clamped]);\r\n\r\n            }\r\n        } else {\r\n            setValue(newValue as number[]);\r\n        }\r\n    };\r\n\r\n    const clickSortCard = () => {\r\n        if (min !== value[0] || max !== value[1]) {\r\n            dispatch(setMinCardsCount({minCardsCount: value[0]}))\r\n            dispatch(setMaxCardsCount({maxCardsCount: value[1]}))\r\n            dispatch(getPack({sortPacks,pageCount: pageSize, user_id, min: value[0] as number, max: value[1] as number}))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Box sx={{width: \"35%\", display: \"inline-flex\", gap: \"15px\", margin: \"0  0 0 30px \"}}>\r\n\r\n            <Slider\r\n                min={0}\r\n                max={103}\r\n                value={value}\r\n                onChange={handleChange}\r\n                valueLabelDisplay=\"auto\"\r\n                disableSwap\r\n            />\r\n            <IconButton sx={{p: '5px'}} size={\"small\"} onClick={clickSortCard} color={\"primary\"}>\r\n                <Search/>\r\n            </IconButton>\r\n        </Box>\r\n    );\r\n}","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Modal from '@mui/material/Modal';\r\nimport {ChangeEvent, KeyboardEvent, useState} from \"react\";\r\nimport {addPack} from \"../../../reducers/packReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {TextField} from \"@material-ui/core\";\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 400,\r\n    borderRadius: \"8px\",\r\n    bgcolor: '#ECECF9',\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\n\r\nexport const ModalAdd = () => {\r\n    const dispatch = useDispatch()\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n    const [name, setName] = useState('')\r\n\r\n    const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setName(e.currentTarget.value)\r\n    }\r\n    const onKeyPressHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === \"Enter\") {\r\n            upTitleHandler()\r\n        }\r\n    }\r\n    const upTitleHandler = () => {\r\n        dispatch(addPack({cardsPack: {name} }))\r\n        setOpen(false)\r\n    }\r\n    return (\r\n        <div>\r\n            <Button onClick={handleOpen} variant={\"contained\"}  size='small'>Add pack</Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n\r\n                <Box sx={style}>\r\n                    <Typography id=\"modal-modal-title\" variant=\"h5\" component=\"h2\" style={{display:\"flex\", justifyContent:\"center\"}}>\r\n                        ADD NEW PACK\r\n                    </Typography>\r\n                    <Typography id=\"modal-modal-description\" sx={{mt: 3, width:\"100%\"}} style={{display:\"flex\", gap: \"20px\",flexDirection:\"column\"}}>\r\n                        <TextField color={\"success\"} variant={\"standard\"} size={\"small\"} onChange={onChangeHandler} value={name} onKeyPress={onKeyPressHandler}/>\r\n                        <div style={{display:\"flex\",justifyContent:\"center\", gap: \"10px\"}}>\r\n                            <Button variant={\"contained\"} color={\"success\"} size='small' onClick={upTitleHandler}>Add</Button>\r\n                            <Button variant={\"contained\"} color={\"inherit\"} size='small' onClick={handleClose}>Сancel</Button>\r\n                        </div>\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import * as React from 'react';\r\nimport style from './InterfacePack.module.css'\r\nimport {IconButton, InputBase, Paper, Switch} from \"@material-ui/core\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport {ChangeEvent, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getPack} from \"../../../../../reducers/packReducer\";\r\nimport {AppRootStateType} from \"../../../../../store/store\";\r\nimport {CustomTable} from \"../table/CustomTable\";\r\nimport {PaginationComponent} from \"../Pagination/PaginationComponent\";\r\nimport {Refresh} from \"@material-ui/icons\";\r\nimport SliderCustom from \"./Slider\";\r\nimport {changeMePackStatus} from \"../../../../../reducers/appReducer\";\r\nimport {ModalAdd} from \"../../../modal/ModalAdd\";\r\n\r\nexport const InterfacePack = () => {\r\n    const [value, setValue] = useState(\"\")\r\n    const pageCount = useSelector<AppRootStateType, number>(s => s.pack.pageCount)\r\n    const sortPacks = useSelector<AppRootStateType, string>(s => s.app.sortPacks)\r\n    const min = useSelector<AppRootStateType, number>(s => s.pack.minCardsCount)\r\n    const max = useSelector<AppRootStateType, number>(s => s.pack.maxCardsCount)\r\n    const dispatch = useDispatch()\r\n\r\n    const isMePack = useSelector<AppRootStateType, boolean>(s => s.app.isMePack)\r\n    const meUserId = useSelector<AppRootStateType, string | null>(s => s.profile.profile._id)\r\n\r\n\r\n    let user_id = meUserId !== null && isMePack ? meUserId : \"\";\r\n\r\n\r\n    const changeTextFieldValue = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setValue(e.target.value)\r\n    }\r\n\r\n    const searchPack = () => {\r\n        dispatch(getPack({packName: value, min, max, user_id, pageCount, sortPacks}))\r\n    }\r\n\r\n    const resetText = () => {\r\n        setValue(\"\")\r\n        dispatch(getPack({pageCount, user_id, sortPacks}))\r\n    }\r\n\r\n    const keySearch = (e: React.KeyboardEvent) => {\r\n        if (e.code == 'Enter') {\r\n            searchPack();\r\n        }\r\n    }\r\n\r\n    const changeSwitchPack = () => {\r\n        dispatch(changeMePackStatus(!isMePack))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={style.interfaceWrapper}>\r\n\r\n                <div className={style.tools}>\r\n\r\n                    <Paper sx={{p: '2px 4px', display: 'flex', alignItems: 'center', width: 300}}>\r\n                        <InputBase sx={{ml: 1, flex: 1}} placeholder=\"Search\" value={value} onChange={changeTextFieldValue} onKeyPress={keySearch}/>\r\n                        <IconButton sx={{p: '5px'}} onClick={searchPack} color={\"primary\"}>\r\n                            <SearchIcon/>\r\n                        </IconButton>\r\n                        <IconButton sx={{p: '5px'}} onClick={resetText} color={\"success\"} disabled={value === \"\"}>\r\n                            <Refresh/>\r\n                        </IconButton>\r\n                    </Paper>\r\n\r\n                    <SliderCustom/>\r\n                    <ModalAdd/>\r\n\r\n                    <div style={{display: \"flex\", alignItems: \"center\", fontWeight: \"bold\"}}>\r\n                        <span style={isMePack ? {color: \"#cccccc\"} : {color: \"#84308f\"}}>ALL PACKS</span>\r\n                        <Switch checked={isMePack} color={\"secondary\"} onChange={changeSwitchPack}/>\r\n                        <span style={isMePack ? {color: \"#84308f\"} : {color: \"#cccccc\"}}>MY PACKS</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <CustomTable text={value}/>\r\n            <PaginationComponent text={value}/>\r\n        </div>\r\n    )\r\n}","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {AppRootStateType} from \"../store/store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {cardsAPI} from \"../api/api\";\r\nimport {NewCardsType, UpdateCardType} from \"../api/types\";\r\n\r\nexport type CardType = {\r\n    answer: string\r\n    question: string\r\n    cardsPack_id: string\r\n    grade: number\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    user_id: string\r\n    created: Date\r\n    updated: Date\r\n    __v: number\r\n    _id: string\r\n}\r\nexport type InitialStateCardType = typeof initialState\r\ntype LoadingCardType = 'loading' | 'success' | 'error'\r\n\r\nconst initialState = {\r\n    cards: [] as CardType[],\r\n    cardsTotalCount: 0,\r\n    maxGrade: 0,\r\n    minGrade: 0,\r\n    page: 0,\r\n    pageCount: 4,\r\n    packUserId: '' as string,\r\n    loadingStatus: 'success' as LoadingCardType,\r\n    cardError: ''\r\n}\r\n\r\n\r\nexport const slice = createSlice({\r\n    name: 'cards',\r\n    initialState,\r\n    reducers: {\r\n        setCards(state, action: PayloadAction<InitialStateCardType>) {\r\n            return action.payload\r\n        },\r\n        setPage(state, action: PayloadAction<{ page: number }>) {\r\n            state.page = action.payload.page\r\n        },\r\n        resetCards(state, action: PayloadAction<{ cards: CardType[], cardsTotalCount: number }>) {\r\n            state.cards = action.payload.cards\r\n            state.cardsTotalCount = action.payload.cardsTotalCount\r\n        },\r\n        statusCard(state, action: PayloadAction<{ status: LoadingCardType }>) {\r\n            state.loadingStatus = action.payload.status\r\n        },\r\n        setError(state, action: PayloadAction<{ error: string }>) {\r\n            state.cardError = action.payload.error\r\n        }\r\n    }\r\n})\r\n\r\nexport const cardReducer = slice.reducer\r\nexport const {setCards, setPage, resetCards, statusCard, setError} = slice.actions\r\n\r\n\r\nexport const getCards = (id: string | undefined) => (dispatch: Dispatch, getState: () => AppRootStateType) => {\r\n    const state = getState().card\r\n    const page = state.page\r\n    const pageCount = state.pageCount\r\n    const minGrade = state.minGrade\r\n    const maxGrade = state.maxGrade\r\n    dispatch(statusCard({status: 'loading'}))\r\n    cardsAPI.getCards({\r\n        cardsPack_id: id,\r\n        page,\r\n        pageCount,\r\n        min: minGrade,\r\n        max: maxGrade\r\n    })\r\n        .then(res => {\r\n            if (res.data.cards.length !== 0)\r\n                dispatch(setCards(res.data))\r\n            dispatch(statusCard({status: 'success'}))\r\n        })\r\n        .catch(error => {\r\n            dispatch(setError({error:  error.response.data.error}))\r\n            dispatch(statusCard({status: 'error'}))\r\n        })\r\n\r\n}\r\n\r\nexport const resetCardsTC = () => (dispatch: Dispatch) => {\r\n    dispatch(statusCard({status: 'loading'}))\r\n    dispatch(resetCards({cards: [], cardsTotalCount: 0}))\r\n}\r\n\r\nexport const setCard = (card: NewCardsType) => (dispatch: Dispatch<any>) => {\r\n    dispatch(statusCard({status: 'loading'}))\r\n    cardsAPI.setCards(card)\r\n        .then(res => {\r\n                dispatch(getCards(card.cardsPack_id))\r\n            }\r\n        )\r\n        .catch(error => {\r\n            dispatch(setError({error: error.response.data.error}))\r\n            dispatch(statusCard({status: 'error'}))\r\n        })\r\n}\r\n\r\nexport const updateCard = (updateCard: UpdateCardType, cardsPack_id: string) => (dispatch: Dispatch<any>) => {\r\n    dispatch(statusCard({status: 'loading'}))\r\n    cardsAPI.updateCard(updateCard)\r\n        .then(res => {\r\n            dispatch(getCards(cardsPack_id))\r\n        })\r\n        .catch(error => {\r\n            dispatch(setError({error:  error.response.data.error}))\r\n            dispatch(statusCard({status: 'error'}))\r\n        })\r\n}\r\n\r\n\r\nexport const deleteCard = (cardId: string, cardsPack_id: string) => (dispatch: Dispatch<any>) => {\r\n    dispatch(statusCard({status: 'loading'}))\r\n    cardsAPI.deleteCard(cardId)\r\n        .then(res => {\r\n            dispatch(getCards(cardsPack_id))\r\n        })\r\n        .catch(error => {\r\n            dispatch(setError({error:  error.response.data.error}))\r\n            dispatch(statusCard({status: 'error'}))\r\n        })\r\n}\r\n","import * as React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {useEffect} from \"react\";\r\nimport {getPack} from \"../../reducers/packReducer\";\r\nimport {Paper} from \"@material-ui/core\";\r\nimport style from \"./newPack/newTable/table/CustomTable.module.css\";\r\nimport {InterfacePack} from \"./newPack/newTable/interfacePack/InterfacePack\";\r\nimport {Navigate, useNavigate} from \"react-router-dom\";\r\nimport {resetCardsTC} from \"../../reducers/cardReducer\";\r\nimport s from \"../cards/CardsTable.module.css\";\r\nimport ArrowCircleLeftIcon from '@mui/icons-material/ArrowCircleLeft';\r\nimport {changeDisabledStatus} from \"../../reducers/appReducer\";\r\n\r\nexport const Packs = () => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const meUserId = useSelector<AppRootStateType, string | null>(s => s.profile.profile._id)\r\n    const min = useSelector<AppRootStateType, number>(s => s.pack.minCardsCount)\r\n    const max = useSelector<AppRootStateType, number>(s => s.pack.maxCardsCount)\r\n    const pageCount = useSelector<AppRootStateType, number>(s => s.pack.pageCount)\r\n    const isMePack = useSelector<AppRootStateType, boolean>(s => s.app.isMePack)\r\n    const sortPacks = useSelector<AppRootStateType, string>(s => s.app.sortPacks)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n\r\n\r\n    let user_id = meUserId !== null && isMePack ? meUserId : \"\";\r\n\r\n    useEffect(() => {\r\n        dispatch(getPack({pageCount,sortPacks, min, max, user_id}))\r\n    }, [isMePack])\r\n\r\n    const onBackClick = () => {\r\n        navigate(-1)\r\n        dispatch(resetCardsTC())\r\n        dispatch(changeDisabledStatus(false))\r\n\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return <Navigate to='/login'/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Paper className={style.ContainerTable} elevation={3}>\r\n                <div className={style.content}>\r\n                    <div className={s.arrow__container} onClick={onBackClick}>\r\n                        <ArrowCircleLeftIcon color={\"primary\"}/> Back to Profile\r\n                    </div>\r\n                    <h1>Packs list</h1>\r\n                    <InterfacePack/>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Modal from '@mui/material/Modal';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {NewCardsType} from \"../../../api/types\";\r\nimport {updateCard} from \"../../../reducers/cardReducer\";\r\nimport s from \"../../profile/Profile.module.css\";\r\nimport {Input} from \"@mui/material\";\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderRadius: \"8px\",\r\n    width: 400,\r\n    bgcolor: '#ECECF9',\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\n\r\n\r\ntype EditPopupPropsType ={\r\n    question:string\r\n    answer:string\r\n    _id:string\r\n    cardsPack_id:string\r\n}\r\n\r\n\r\n\r\n\r\nexport default function EditPopup ({question,answer,_id,cardsPack_id}:EditPopupPropsType) {\r\n    const dispatch = useDispatch()\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n\r\n    const {register,formState: { errors }, handleSubmit,reset} = useForm({ defaultValues: {\r\n            question:question,\r\n            answer: answer\r\n        }});\r\n\r\n    const onSubmit = handleSubmit((data:NewCardsType) => {\r\n        const{ question,answer} = data\r\n        dispatch(updateCard({_id,question,answer},cardsPack_id))\r\n        handleClose()\r\n        reset()\r\n    });\r\n\r\n    const onCancelClick = () =>{\r\n        handleClose()\r\n        reset()\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={handleOpen} style={{color: 'white'}} size='small'>Edit</Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box sx={style}>\r\n                    <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\r\n                        Card Info\r\n                    </Typography>\r\n                    <Typography id=\"modal-modal-description\" sx={{mt: 2}}>\r\n                        <form className={s.form} onSubmit={onSubmit}>\r\n                            <div className={s.info_form}>\r\n                                <span>Question</span>\r\n                                <Input {...register('question',{ required: true })}/>\r\n                                {errors.question && <p style={{color:'red',fontSize:'12px'}}>This field is Required</p>}\r\n                                <span>Answer</span>\r\n                                <Input {...register('answer',{ required: true })}/>\r\n                                {errors.answer && <p style={{color:'red',fontSize:'12px'}}>This field is Required</p>}\r\n                            </div>\r\n                            <div className={s.button}>\r\n                                <Button  variant=\"contained\" color=\"secondary\" onClick={onCancelClick}>Cancel</Button>\r\n                                <Button  variant=\"contained\" color=\"primary\" type=\"submit\">Save</Button>\r\n                            </div>\r\n                        </form>\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Modal from '@mui/material/Modal';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {deleteCard} from \"../../../reducers/cardReducer\";\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderRadius: \"8px\",\r\n    width: 400,\r\n    bgcolor: '#ECECF9',\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\ntype DeletePopupPropsType = {\r\n    cardId:string\r\n    cardsPack_id:string\r\n}\r\n\r\nexport default function DeletePopup({cardId,cardsPack_id}:DeletePopupPropsType) {\r\n    const dispatch = useDispatch()\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleOpenDelete = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n    const clickDeletePack = () => {\r\n        dispatch(deleteCard(cardId,cardsPack_id))\r\n        setOpen(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={handleOpenDelete} style={{color: 'white'}} size='small'>Delete</Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box sx={style}>\r\n                    <div style = {{display: 'flex',justifyContent: 'center',fontWeight: 'bold',fontSize: '30px'}}>\r\n                        You are sure?\r\n                    </div>\r\n                    <Typography id=\"modal-modal-description\" sx={{mt: 2}}>\r\n                      <div style ={{display:'flex', justifyContent:'space-around'}}>\r\n                          <Button size='small' variant=\"contained\" color=\"error\" onClick={clickDeletePack}>Yes</Button>\r\n                          <Button size='small'  variant=\"contained\" color='success' onClick={handleClose}>I changed my mind</Button>\r\n                      </div>\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};","import {Button} from '@material-ui/core';\r\nimport React from 'react';\r\nimport {CardType} from \"../../../reducers/cardReducer\";\r\nimport s from './Card.module.css'\r\nimport EditPopup from \"../popup/EditPopup\";\r\nimport DeletePopup from \"../popup/DeletePopup\";\r\nimport { Rating } from '@mui/material';\r\n\r\n\r\ntype PropsCardType = {\r\n    cards: CardType[]\r\n    profileId: string | null\r\n}\r\n\r\n\r\nconst Card = ({cards, profileId}: PropsCardType) => {\r\n    return (\r\n        <tbody className={s.tableWrapper}>\r\n        {cards && cards.map((t, index) =>\r\n            <tr key={t.cardsPack_id} style={index % 2 === 0 ? {background: \"white\"} : {background: \"#ECECF9\"}}>\r\n                <td>{t.question}</td>\r\n                <td>{t.answer}</td>\r\n                <td>\r\n                    <Rating name=\"read-only\" size=\"small\" value={t.grade} readOnly /></td>\r\n                <td>{new Date(t.updated).toLocaleDateString()}</td>\r\n                {profileId === t.user_id ? <td className={s.tableButton}>\r\n                    <div className={s.buttonWrapper}>\r\n                        <Button\r\n                            style={{width: \"30%\"}} size={\"small\"} variant={\"contained\"} color={'success'}><EditPopup answer={t.answer} _id={t._id} cardsPack_id={t.cardsPack_id}\r\n                                                         question={t.question}/></Button>\r\n                        <Button\r\n                            style={{width: \"30%\"}}\r\n                            size={\"small\"} variant={\"contained\"}\r\n                                color={\"error\"}><DeletePopup cardsPack_id={t.cardsPack_id} cardId={t._id}/></Button>\r\n                    </div>\r\n                </td> : <td></td>}\r\n            </tr>)}\r\n        </tbody>\r\n    );\r\n};\r\n\r\nexport default Card;","import * as React from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Modal from '@mui/material/Modal';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setCard} from \"../../../reducers/cardReducer\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport s from \"../../profile/Profile.module.css\";\r\nimport {Input} from \"@mui/material\";\r\nimport {NewCardsType} from \"../../../api/types\";\r\n\r\nconst style = {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderRadius: \"8px\",\r\n    width: 400,\r\n    bgcolor: '#ECECF9',\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\n\r\ntype PropsPopupType={\r\n    cardsPack_id:string|undefined\r\n    maxGrade:number\r\n    minGrade:number\r\n}\r\n\r\n\r\nexport default function AddPopup({ cardsPack_id}:PropsPopupType) {\r\n    const dispatch = useDispatch()\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n\r\n    const {register,formState: { errors }, handleSubmit,reset} = useForm()\r\n\r\n    const onSubmit = handleSubmit((data:NewCardsType) => {\r\n        const{ question,answer} = data\r\n        dispatch(setCard({cardsPack_id,question,answer}))\r\n        handleClose()\r\n        reset()\r\n    });\r\n\r\n    const onCancelClick = () =>{\r\n        handleClose()\r\n        reset()\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={handleOpen} style={{color: 'white'}} size='small'>Add Card</Button>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\"\r\n            >\r\n                <Box sx={style}>\r\n                    <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\r\n                       Card Info\r\n                    </Typography>\r\n                    <Typography id=\"modal-modal-description\" sx={{mt: 2}}>\r\n                        <form className={s.form} onSubmit={onSubmit}>\r\n                            <div className={s.info_form}>\r\n                                <span>Question</span>\r\n                                <Input {...register('question',{ required: true })}/>\r\n                                {errors.question && <p style={{color:'red',fontSize:'12px'}}>This field is Required</p>}\r\n                                <span>Answer</span>\r\n                                <Input {...register('answer',{ required: true })}/>\r\n                                {errors.answer && <p style={{color:'red',fontSize:'12px'}}>This field is Required</p>}\r\n                            </div>\r\n                            <div className={s.button}>\r\n                                <Button  variant=\"contained\" color=\"secondary\" onClick={onCancelClick}>Cancel</Button>\r\n                                <Button  variant=\"contained\" color=\"primary\" type=\"submit\">Save</Button>\r\n                            </div>\r\n                        </form>\r\n                    </Typography>\r\n                </Box>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport s from './CardsTable.module.css'\r\nimport Card from \"./card/Card\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {CardType, getCards, InitialStateCardType, resetCardsTC, setPage} from \"../../reducers/cardReducer\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {Preloader} from \"../../common/preloader/Preloader\";\r\nimport {Alert, Button, Pagination} from \"@mui/material\";\r\nimport {ProfileResponseType} from \"../../reducers/profileReducer\";\r\nimport arrow from '../../assets/images/arrow.png'\r\nimport AddPopup from \"./popup/AddPopup\";\r\n\r\n\r\nexport const CardsTable = () => {\r\n    const status = useSelector<AppRootStateType>(state => state.card.loadingStatus)\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n    const {id} = useParams<{ id: string | undefined }>()\r\n    const cardTab = useSelector<AppRootStateType, InitialStateCardType>(state => state.card)\r\n    const cards = useSelector<AppRootStateType, CardType[]>(state => state.card.cards)\r\n    const profile = useSelector<AppRootStateType, ProfileResponseType>(state => state.profile.profile)\r\n    const error = useSelector<AppRootStateType, string>(state => state.card.cardError)\r\n\r\n\r\n    const {\r\n        cardsTotalCount,\r\n        maxGrade,\r\n        minGrade,\r\n        page,\r\n        pageCount,\r\n        packUserId,\r\n    } = cardTab\r\n\r\n    const {\r\n        _id\r\n    } = profile\r\n\r\n    const totalCount = Math.round(cardsTotalCount / pageCount)\r\n\r\n    const handlePageChange = (event: React.ChangeEvent<unknown>, page: number) => {\r\n        dispatch(setPage({page}))\r\n    }\r\n\r\n    const onBackClick = () => {\r\n        navigate(-1)\r\n        dispatch(resetCardsTC())\r\n    }\r\n\r\n    const onNavigateGameClick = () => {\r\n        navigate('/game/' + id)\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(getCards(id))\r\n    }, [page])\r\n\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            {error && <Alert severity=\"error\">{error}</Alert>}\r\n            <div className={s.header__container}>\r\n                <div className={s.arrow__container} onClick={onBackClick}>\r\n                    <div className={s.arrow}><img src={arrow} alt=\"arrow\"/></div>\r\n                    <div className={s.arrow__title}>Back to Packs</div>\r\n                </div>\r\n                <div className={s.button}><Button variant={\"contained\"}><AddPopup cardsPack_id={id}\r\n                                                                                  maxGrade={maxGrade}\r\n                                                                                  minGrade={minGrade}/></Button></div>\r\n\r\n            </div>\r\n\r\n            {status === 'loading' ? <Preloader/> :\r\n                <table className={s.table}>\r\n                    <thead className={s.table_head}>\r\n                    <tr>\r\n                        <th>Question</th>\r\n                        <th>Answer</th>\r\n                        <th>Grade</th>\r\n                        <th>Updated</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <Card\r\n                        cards={cards}\r\n                        profileId={_id}\r\n                    />\r\n                </table>}\r\n            <div className={s.paginator}>\r\n                {totalCount > 1 && <Pagination\r\n                    onChange={handlePageChange}\r\n                    count={totalCount}\r\n                    color=\"secondary\"/>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAWCAYAAAA4oUfxAAAAwElEQVR4XmNgIAEYGHgoGBg4CKCL0xyALNbTc7uvp+d6nq4OgFmsq+f2H4Tp5gB0i2FYR8+tHl0tVYGBgasB0OL36Bbr6rr1o6ulKsBlsY6Oy8D4mOYW6+o6BwyQxa4J6JYOqMW0xANmMQiDLdfWcylAl6AHHvhgJ+QAYOpvQFFIKwAsvQJ0sWQ1ujlAS8vVYNQBulhqNLo5QEPDQQGbA2he6sEAugN0gI0JBQU6NCZgAOYAulsMAyAHgDC6OLkAAHiBUEHGNMutAAAAAElFTkSuQmCC\"","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {CardType} from \"./cardReducer\";\r\nimport {Dispatch} from \"react\";\r\nimport {cardsAPI} from \"../api/api\";\r\n\r\n\r\nconst initialState = {\r\n    card: {} as CardType,\r\n    allCards: null as null | CardType | CardType[],\r\n    cardGameStatus: 'success' as LoadingCardGameType,\r\n    markValue: 0,\r\n    showAnswer: false,\r\n    gameError: '',\r\n}\r\n\r\nexport type LoadingCardGameType = 'loading' | 'success' | 'error'\r\n\r\n\r\nexport const slice = createSlice({\r\n    name: 'game',\r\n    initialState,\r\n    reducers: {\r\n        setGameStatus(state, action: PayloadAction<{ cardGameStatus: LoadingCardGameType }>) {\r\n            state.cardGameStatus = action.payload.cardGameStatus\r\n        },\r\n        setMarkValue(state, action: PayloadAction<{ markValue: number }>) {\r\n            state.markValue = action.payload.markValue\r\n        },\r\n        setShowAnswer(state, action: PayloadAction<{ showAnswer: boolean }>) {\r\n            state.showAnswer = action.payload.showAnswer\r\n        },\r\n        setAllCards(state, action: PayloadAction<{ allCards: CardType | CardType[] }>) {\r\n            state.allCards = action.payload.allCards\r\n        },\r\n        setCard(state, action: PayloadAction<{ card: CardType }>) {\r\n            state.card = action.payload.card\r\n        },\r\n        setGameError(state, action: PayloadAction<{ gameError: string }>) {\r\n            state.gameError = action.payload.gameError\r\n        }\r\n    }\r\n})\r\n\r\n\r\nexport const cardGameReducer = slice.reducer\r\nexport const {setGameStatus, setMarkValue, setShowAnswer, setAllCards, setCard, setGameError} = slice.actions\r\n\r\n\r\nexport const gameInit = (cardsPack_id: string | undefined) => (dispatch: Dispatch<any>) => {\r\n    dispatch(setGameStatus({cardGameStatus: 'loading'}))\r\n    dispatch(setShowAnswer({showAnswer: false}))\r\n    dispatch(setMarkValue({markValue: 1}))\r\n    cardsAPI.getCards({cardsPack_id, page: 1, pageCount: 100})\r\n        .then(res => {\r\n            dispatch(setAllCards({allCards: res.data.cards}))\r\n            dispatch(setCard({card: getCard(res.data.cards)}))\r\n            dispatch(setGameStatus({cardGameStatus: 'success'}))\r\n        })\r\n        .catch(error => {\r\n                console.log(error)\r\n                dispatch(setGameError({gameError: error.response.data.error}))\r\n                dispatch(setGameStatus({cardGameStatus: 'error'}))\r\n            }\r\n        )\r\n}\r\n\r\nexport const setMark = (grade: number, cardId: string, cardPack_id: string | undefined) => (dispatch: Dispatch<any>) => {\r\n    dispatch(setGameStatus({cardGameStatus: 'loading'}))\r\n    cardsAPI.gradeCard(grade, cardId)\r\n        .then(res => {\r\n            dispatch(gameInit(cardPack_id))\r\n            dispatch(setGameStatus({cardGameStatus: 'success'}))\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n            dispatch(setGameError({gameError: error.response.data.error}))\r\n            dispatch(setGameStatus({cardGameStatus: 'error'}))\r\n        })\r\n}\r\n\r\nconst getCard = (cards: CardType[]) => {\r\n    const sum = cards.reduce((acc, card) => acc + (6 - card.grade) * (6 - card.grade), 0);\r\n    const rand = Math.random() * sum;\r\n    const res = cards.reduce((acc: { sum: number, id: number }, card, i) => {\r\n            const newSum = acc.sum + (6 - card.grade) * (6 - card.grade);\r\n            return {sum: newSum, id: newSum < rand ? i : acc.id}\r\n        }\r\n        , {sum: 0, id: -1});\r\n\r\n\r\n    return cards[res.id + 1];\r\n}\r\n","import React from 'react';\r\nimport activeStar from '../../../../assets/images/activeStar.png'\r\nimport star from '../../../../assets/images/star.png'\r\nimport s from './Star.module.css'\r\n\r\ntype StarPropsType = {\r\n    select: true | false\r\n    setValue: () => void\r\n}\r\n\r\n\r\nexport const Star = ({select, setValue}:StarPropsType) => {\r\n    return (\r\n        <div onClick={setValue} className={s.starContainer}>\r\n            {select ? <ActivateStar/> : <DeActivateStar/>}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ActivateStar = () => <img  src={activeStar} alt=\"activate\"/>\r\n\r\nconst DeActivateStar = () => <img  src={star} alt=\"deactivate\"/>\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAABHUlEQVR4XrVU7RGCMAxlBDcwRShu4QpsoBvgBi6g5I//GcERGIERGIERtOHrIARLOXh378+7NG1eknqeA+CMoNT7yPXNAFGagMYH1zeD0lioEHOub4LaHo3fmnvYRPZ0F+xik4ow7yvY2qaRPV0VgAcetxoQ4m1yQZgmPE4EvcQkyGoL5qix4hcYlpO4AX2NWV8lWUCCkGQVTa6PaKEfvO482JGV1bq2oaVw2MbSvBp4vlmYvqCQRCQEiKIlNizpCz2En1uM0XLNce3SUcmTZBJD09g19kjLpZrmE0c66PTKz1tBszxM0s22uDOuNjF7xNlud6bZcFebzHcctweLf7M93Bknm+p/xGG2aVTpP+P6LCBIL1yzAU7PmGuEH5rQS6zXXNyFAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAABG0lEQVR4XrWTzQ3CMAyFOwIbwCas0A1gg7IBI3QERmAERsgtSUFqFgD5yBHs/ql9TWhTlSe9ixXbyRc7SSJkDO3K8r3F+Gqyd8pMQWeMryZbkDKWbhhfRYKHi3/Ef8FU4Wka/AWToOkarI2pj6e1UrTBc4vFDY7YwFrK8JxXchNmemkQeM3TQ9iA7fDcwFyze2WFoG6CRRaZL3T1ItT2dcLDMZaXTqJrPtRh8gw7ycV6QfHc554iXmtLuRfJlOb8ixTHvNkyw+UKednSOcfjOy42Mr+AluHxLJepP188jBd0wPxJySz3i7SzHdiZOEx9PKHZlp1pNzwaky4obRLVr9ke7EwMJkEQM9vVznAOxoMyD9pjbEpaP1OMib5GqbdUFQvkkwAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport {Star} from \"./star/Star\";\r\nimport s from './Rating.module.css'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setMark} from \"../../../reducers/cardGameReducer\";\r\nimport {Button} from \"@mui/material\";\r\n\r\ntype RatingPropsType = {\r\n    cardId: string\r\n    cardPack_id: string | undefined\r\n    value: number\r\n    setValue: (newValue: number) => void\r\n}\r\n\r\n\r\nexport const Rating = ({cardId, cardPack_id, value, setValue}: RatingPropsType) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const onConfirmClick = () => {\r\n         dispatch(setMark(value, cardId, cardPack_id))\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.starWrapper}>\r\n                <Star setValue={\r\n                    () => {\r\n                    setValue(1)\r\n                }} select={true}/>\r\n                <Star setValue={() => {\r\n                    setValue(2)\r\n                }} select={value > 1}/>\r\n                <Star setValue={() => {\r\n                    setValue(3)\r\n                }} select={value > 2}/>\r\n                <Star setValue={() => {\r\n                    setValue(4)\r\n                }} select={value > 3}/>\r\n                <Star setValue={() => {\r\n                    setValue(5)\r\n                }} select={value > 4}/>\r\n            </div>\r\n            <div><Button size='small' variant=\"contained\" onClick={onConfirmClick}>Confirm</Button></div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\n","import * as React from 'react';\r\nimport {useEffect} from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Modal from '@mui/material/Modal';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {gameInit, LoadingCardGameType, setMarkValue, setShowAnswer} from \"../../reducers/cardGameReducer\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport {CardType} from \"../../reducers/cardReducer\";\r\nimport {Rating} from \"./raiting/Rating\";\r\nimport {Preloader} from \"../../common/preloader/Preloader\";\r\nimport s from './CardGame.module.css'\r\nimport {Alert} from \"@mui/material\";\r\n\r\n\r\nexport default function CardGame() {\r\n    const {id} = useParams<{ id: string | undefined }>()\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const card = useSelector<AppRootStateType, CardType>(state => state.game.card)\r\n    const status = useSelector<AppRootStateType, LoadingCardGameType>(state => state.game.cardGameStatus)\r\n    const showAnswer = useSelector<AppRootStateType, boolean>(state => state.game.showAnswer)\r\n    const markValue = useSelector<AppRootStateType, number>(state => state.game.markValue)\r\n    const error = useSelector<AppRootStateType, string>(state => state.game.gameError)\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(gameInit(id))\r\n    }, [])\r\n\r\n    const onSetValueClick = (value = 1 as number) => {\r\n        dispatch(setMarkValue({markValue: value}))\r\n    }\r\n\r\n    const onSetShowAnswerClick = (value: boolean) => {\r\n        dispatch(setShowAnswer({showAnswer: value}))\r\n    }\r\n\r\n    const onNextCardClick = () => {\r\n        dispatch(gameInit(id))\r\n    }\r\n\r\n    const onCancelClick = () => {\r\n        navigate(-1)\r\n    }\r\n\r\n    return <>\r\n        <Modal\r\n            open\r\n            aria-labelledby=\"modal-modal-title\"\r\n            aria-describedby=\"modal-modal-description\"\r\n        >\r\n            <div className={s.container}>\r\n                {error && <Alert severity=\"error\">{error}</Alert>}\r\n                <div className={s.title}>\r\n                    Learn Cards\r\n                </div>\r\n                {status === 'loading' ? <Preloader/> :\r\n                    <div className={s.wrapper}>\r\n                        <div className={s.question}>\r\n                            Question: {card.question}\r\n                        </div>\r\n                        {showAnswer && <div>\r\n                            <div className={s.answer}>Answer: {card.answer}</div>\r\n                            <div className={s.rate}>Please rate question:\r\n                                <div><Rating cardId={card._id} cardPack_id={id} value={markValue}\r\n                                             setValue={onSetValueClick}/></div>\r\n                            </div>\r\n                        </div>}\r\n                        <div className={s.buttonWrapper}>\r\n                            {!showAnswer &&\r\n                            <div className={s.buttonShow}>\r\n                                <Button size='small' variant=\"contained\" color='success'\r\n                                        onClick={() => onSetShowAnswerClick(true)}>Show Answer</Button>\r\n                            </div>}\r\n                            <div className={s.buttonFooter}>\r\n                                <div className={s.button}>\r\n                                    <Button onClick={onNextCardClick} variant=\"contained\" size='small'>Next</Button>\r\n                                </div>\r\n                                <div className={s.button}>\r\n                                    <Button size='small' variant=\"contained\" color='secondary'\r\n                                            onClick={onCancelClick}>Cancel</Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>}\r\n            </div>\r\n        </Modal>\r\n    </>;\r\n};\r\n","import React from 'react';\r\nimport {Route, Routes} from \"react-router-dom\";\r\nimport {Register} from \"../register/Register\";\r\nimport {RestorePassword} from \"../restorePassword/RestorePassword\";\r\nimport Profile from \"../profile/Profile\";\r\nimport {Login} from \"../login/Login\";\r\nimport {NewPassword} from \"../newPassword/newPassword\";\r\nimport {InfoSentEmail} from \"../restorePassword/infoSentEmail/InfoSentEmail\";\r\nimport {Packs} from \"../packs/Packs\";\r\nimport {CardsTable} from \"../cards/CardsTable\";\r\nimport CardGame from \"../cardGame/CardGame\";\r\n\r\n\r\nconst RoutesC = () => {\r\n    return (\r\n        <div>\r\n            <Routes>\r\n                <Route path='/' element={<Profile/>}/>\r\n                <Route path='login' element={<div><Login/></div>}/>\r\n                <Route path=\"register\" element={<Register/>}/>\r\n                <Route path=\"profile\" element={<Profile/>}/>\r\n                <Route path=\"restore\" element={<RestorePassword/>}/>\r\n                <Route path=\"/set-new-password/:token\" element={<NewPassword/>}/>\r\n                <Route path=\"info-sent-email\" element={<InfoSentEmail/>}/>\r\n                <Route path=\"packs\" element={<Packs/>}/>\r\n                <Route path=\"cards/:id\" element={<CardsTable/>}/>\r\n                <Route path=\"game/:id\" element={<CardGame/>} />\r\n                <Route path=\"/404\" element={<h1>404: PAGE NOT FOUND</h1>}/>\r\n            </Routes>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RoutesC;","import * as React from 'react';\r\nimport {Snackbar} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../store/store\";\r\nimport MuiAlert, {AlertProps} from '@mui/material/Alert';\r\nimport {setErrorMessage} from \"../../reducers/appReducer\";\r\n\r\n\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\r\n    props,\r\n    ref,\r\n) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport function ErrorAlert() {\r\n\r\n    const error = useSelector<AppRootStateType, string>(state => state.app.errorMessage)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        dispatch(setErrorMessage(\"\"))\r\n    };\r\n\r\n\r\n    const isOpen = error !== \"\"\r\n\r\n    return (\r\n        <Snackbar anchorOrigin={{vertical: \"bottom\", horizontal: \"center\"}} open={isOpen} autoHideDuration={4000} onClose={handleClose}>\r\n            <Alert onClose={handleClose} severity=\"error\" sx={{width: '100%'}}>\r\n                {error}\r\n            </Alert>\r\n        </Snackbar>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport './App.css';\r\nimport RoutesC from \"./component/routes/RoutesC\";\r\nimport {Preloader} from \"./common/preloader/Preloader\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"./store/store\";\r\nimport {RequestStatusType} from \"./reducers/appReducer\";\r\nimport {authMe} from \"./reducers/authReducer\";\r\nimport Snowfall from 'react-snowfall'\r\nimport {ErrorAlert} from \"./common/errorAlert/ErrorAlert\";\r\n\r\nfunction App() {\r\n    const status = useSelector<AppRootStateType, RequestStatusType>(state => state.app.status);\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(authMe())\r\n    }, [])\r\n\r\n    if (status === 'loading') {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Snowfall snowflakeCount={200}/>\r\n            <RoutesC/>\r\n            <ErrorAlert/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import {combineReducers} from \"redux\";\r\nimport {authReducer} from \"../reducers/authReducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {registerReducer} from \"../reducers/registerReducer\";\r\nimport {profileReducer} from \"../reducers/profileReducer\";\r\nimport {restorePassReducer} from \"../reducers/restoreReducer\";\r\nimport {newPasswordReducer} from \"../reducers/newPasswordReducer\";\r\nimport {appReducer} from \"../reducers/appReducer\";\r\nimport {configureStore} from \"@reduxjs/toolkit\";\r\nimport {packReducer} from \"../reducers/packReducer\";\r\nimport {cardReducer} from \"../reducers/cardReducer\";\r\nimport {cardGameReducer} from \"../reducers/cardGameReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    auth: authReducer,\r\n    register: registerReducer,\r\n    profile: profileReducer,\r\n    restorePass: restorePassReducer,\r\n    newPass: newPasswordReducer,\r\n    pack: packReducer,\r\n    card: cardReducer,\r\n    game: cardGameReducer,\r\n})\r\n\r\nexport const store = configureStore({\r\n    reducer: rootReducer,\r\n    middleware: (getDefaultMiddleware) => [...getDefaultMiddleware().prepend(thunkMiddleware)]\r\n})\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\n// @ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {store} from './store/store';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n            <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContainerTable\":\"CustomTable_ContainerTable__4UEmd\",\"interface\":\"CustomTable_interface__2ccMn\",\"tableHeader\":\"CustomTable_tableHeader__1Jevv\",\"content\":\"CustomTable_content__2tcbQ\",\"textHeader\":\"CustomTable_textHeader__3qEy_\",\"arrow__container\":\"CustomTable_arrow__container__TGMmp\",\"searchHeader\":\"CustomTable_searchHeader__1JYKk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CardsTable_container__oz0AU\",\"table\":\"CardsTable_table__1kyYL\",\"table_head\":\"CardsTable_table_head__3yC-e\",\"paginator\":\"CardsTable_paginator__1F1C6\",\"arrow__container\":\"CardsTable_arrow__container__21-79\",\"arrow\":\"CardsTable_arrow__1NGa0\",\"arrow__title\":\"CardsTable_arrow__title__2yjL8\",\"button\":\"CardsTable_button__2okst\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"CardGame_title__2FezT\",\"container\":\"CardGame_container__1Bsj7\",\"question\":\"CardGame_question__131E8\",\"answer\":\"CardGame_answer__2VKwa\",\"rate\":\"CardGame_rate__2tOFG\",\"button\":\"CardGame_button__20NZe\",\"buttonWrapper\":\"CardGame_buttonWrapper__QCw9x\",\"buttonFooter\":\"CardGame_buttonFooter__3SMGw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rowTable\":\"Tabble_rowTable__1Gw_8\",\"rowText\":\"Tabble_rowText__21T59\",\"buttonWrapper\":\"Tabble_buttonWrapper__18uMI\"};"],"sourceRoot":""}