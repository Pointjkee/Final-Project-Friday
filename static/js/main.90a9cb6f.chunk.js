(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{115:function(e,t,n){e.exports={text:"Restore_text__2hWHj"}},143:function(e,t,n){e.exports={main:"Register_main__1yitS",container:"Register_container__1ydEp"}},146:function(e,t,n){e.exports={default:"SuperButton_default__18nk9",red:"SuperButton_red__4O9XB"}},147:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__1hhZ8",spanClassName:"SuperCheckbox_spanClassName__3WXw7"}},187:function(e,t,n){e.exports={container:"Header_container__OPBi9"}},199:function(e,t,n){e.exports={loader:"Preloader_loader__14u14"}},232:function(e,t,n){},233:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(46),c=n.n(s),i=(n(232),n(233),n(187)),o=n.n(i),l=n(30),d=n(21),j=n(451),u=n(25),b=n(446),h=n(188),p=n.n(h).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),O=function(e,t){return p.post("/auth/register/",{email:e,password:t})},x=function(e){return p.post("/auth/forgot",e)},m=function(e){return p.post("/auth/set-new-password",e)},f=function(e){return p.post("auth/login",e)},g=function(){return p.delete("/auth/me")},v=function(){return p.post("/auth/me")},w=function(e){return p.put("/auth/me",e)},y={statusOfSentMessage:!1,error:"",email:""},S=function(e){return{type:"RESTORE/ERROR-MESSAGE",error:e}},C=n(2),_=r.forwardRef((function(e,t){return Object(C.jsx)(b.a,Object(d.a)({elevation:6,ref:t,variant:"filled"},e))}));function E(){var e=Object(u.c)((function(e){return e.restorePass.error})),t=Object(u.b)(),n=function(e,n){"clickaway"!==n&&t(S(""))},r=""!==e;return Object(C.jsx)(j.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:r,autoHideDuration:4e3,onClose:n,children:Object(C.jsx)(_,{onClose:n,severity:"error",sx:{width:"100%"},children:e})})}var P=function(){return Object(C.jsxs)("div",{className:o.a.container,children:[Object(C.jsx)(l.c,{to:"/login",children:" Login"}),Object(C.jsx)(l.c,{to:"/register",children:" Register"}),Object(C.jsx)(l.c,{to:"/profile",children:" Profile"}),Object(C.jsx)(E,{}),Object(C.jsx)(l.c,{to:"/restore",children:" Restore password"}),Object(C.jsx)(l.c,{to:"/test",children:" Test"}),Object(C.jsx)(l.c,{to:"/404",children:" 404"})]})},R=n(22),N=n(6),T=n(143),I=n.n(T),k={error:null,isRegister:!1},A=n(460),M=n(444),F=n(450),L=n(459),G=n(439),D=n(440),U=n(457),B=a.a.memo((function(){var e=Object(r.useState)(""),t=Object(N.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),c=Object(N.a)(s,2),i=c[0],o=c[1],d=Object(r.useState)(""),j=Object(N.a)(d,2),b=j[0],h=j[1],p=Object(r.useState)(!1),x=Object(N.a)(p,2),m=x[0],f=x[1],g=Object(r.useState)(!1),v=Object(N.a)(g,2),w=v[0],y=v[1],S=Object(u.b)(),_=Object(u.c)((function(e){return e.register.error})),E=Object(u.c)((function(e){return e.register.isRegister})),P=!1;if(i!==b&&(P=!0),E)return Object(C.jsx)(R.a,{to:"/login"});return Object(C.jsx)("div",{className:I.a.main,children:Object(C.jsxs)(A.a,{className:I.a.container,sx:{width:400,paddingBottom:5,marginTop:3},children:[Object(C.jsx)("h1",{children:"It-incubator"}),Object(C.jsx)("h3",{children:"Sign Up"}),Object(C.jsx)("div",{children:Object(C.jsx)(M.a,{id:"outlined-name",label:"Email",value:n,onChange:function(e){a(e.currentTarget.value)},sx:{width:300},size:"small"})}),Object(C.jsx)("div",{style:{marginTop:20},children:Object(C.jsx)(M.a,{type:m?"text":"password",label:"Password",size:"small",sx:{width:300},value:i,onChange:function(e){o(e.currentTarget.value)},InputProps:{endAdornment:Object(C.jsx)(F.a,{position:"end",children:Object(C.jsx)(L.a,{"aria-label":"toggle password visibility",onClick:function(){f(!m)},edge:"end",children:m?Object(C.jsx)(G.a,{}):Object(C.jsx)(D.a,{})})})}})}),Object(C.jsx)("div",{children:Object(C.jsx)("div",{style:{marginTop:20},children:Object(C.jsx)(M.a,{type:w?"text":"password",label:"Confirm Password",size:"small",sx:{width:300},value:b,onChange:function(e){h(e.currentTarget.value)},InputProps:{endAdornment:Object(C.jsx)(F.a,{position:"end",children:Object(C.jsx)(L.a,{"aria-label":"toggle password visibility",onClick:function(){y(!w)},edge:"end",children:w?Object(C.jsx)(G.a,{}):Object(C.jsx)(D.a,{})})})}})})}),P&&Object(C.jsx)("div",{style:{color:"red"},children:" Incorrect passwords!"})||!!_&&Object(C.jsx)("div",{style:{color:"red"},children:_}),Object(C.jsxs)("div",{style:{marginTop:30},children:[Object(C.jsx)(U.a,{size:"medium",onClick:function(){i===b&&S(function(e,t){return function(n){O(e,t).then((function(e){n({type:"REGISTER",isRegister:!0})})).catch((function(e){400===e.response.status&&n(function(e){return{type:"SET_ERROR",error:e}}(e.response.data.error))}))}}(n,i))},variant:"contained",style:{marginRight:50},children:"Register"}),Object(C.jsx)(l.b,{to:"/login",style:{textDecoration:"none"},children:Object(C.jsx)(U.a,{size:"medium",variant:"outlined",children:"Cancel"})})]})]})})})),W=n(115),z=n.n(W),H=n(82),q=n(463),V=n(443),K=n(464),X=n(86),Z={statusNewPassword:!1},J=n(445),$=Object(J.a)({stylePaper:{width:"413px",height:"540px",display:"flex",flexDirection:"column",borderRadius:"8px",left:"434px",top:"84px",padding:"33px",justifyContent:"space-evenly",alignItems:"center"}}),Q=function(){var e=$(),t=Object(R.h)().token,n=Object(u.b)(),a=Object(u.c)((function(e){return e.newPass.statusNewPassword})),s=Object(R.g)(),c=Object(r.useState)(!1),i=Object(N.a)(c,2),o=i[0],l=i[1],d=t,j=function(e){t&&n(function(e){return function(t){m(e).then((function(e){t({type:"NEW-PASSWORD/CHANGE-STATUS-PASSWORD",status:!0})})).catch((function(e){404!==e.response.status&&401!==e.response.status||t(S(e.response.data.error))}))}}({password:e,resetPasswordToken:d}))},b=X.a({password:X.b().required("Please Enter your password").min(7).matches(/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{7,}/,"Password must contain at least 7 characters, one uppercase, one number and one lowwer case character")});a&&s("/login");var h=Object(H.a)({initialValues:{password:""},validationSchema:b,onSubmit:function(e){j(e.password)}});return Object(C.jsx)("form",{onSubmit:h.handleSubmit,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsxs)(q.a,{className:e.stylePaper,children:[Object(C.jsx)("h1",{children:"It-incubator"}),Object(C.jsx)("h3",{children:"Create new password "}),Object(C.jsx)(V.a,{error:h.touched.password&&Boolean(h.errors.password),helperText:h.touched.password&&h.errors.password,sx:{width:"347px"},variant:"standard",id:"password",name:"password",type:o?"text":"password",placeholder:"Password",onChange:h.handleChange,InputProps:{endAdornment:Object(C.jsx)(F.a,{position:"end",children:Object(C.jsx)(L.a,{"aria-label":"toggle password visibility",onClick:function(){l(!o)},edge:"end",children:o?Object(C.jsx)(G.a,{}):Object(C.jsx)(D.a,{})})})}}),Object(C.jsx)("h4",{className:z.a.text,children:"Create new password and we will send you further instruction to email"}),Object(C.jsx)(K.a,{sx:{borderRadius:"30px",backgroundColor:"#21268F",width:"266px"},variant:"contained",type:"submit",children:"Create new password"})]})})},Y=function(){var e=Object(R.g)(),t=Object(u.c)((function(e){return e.restorePass.statusOfSentMessage})),n=Object(u.b)(),r=$(),a=function(e){var t;n((t={email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n\t<a href='https://pointjkee.github.io/Final-Project-Friday/#/set-new-password/$token$'>Change Password</a></div>"},function(e){x(t).then((function(n){200===n.status&&e({type:"RESTORE/SET-EMAIL",email:t.email}),e({type:"RESTORE/CHANGE-STATUS-MESSAGE",status:!0})})).catch((function(t){404!==t.response.status&&401!==t.response.status||e(S(t.response.data.error))}))}))};t&&e("/info-sent-email");var s=X.a().shape({email:X.b().email("Invalid email").required("Required field")}),c=Object(H.a)({initialValues:{email:""},validationSchema:s,onSubmit:function(e){a(e.email)}});return Object(C.jsx)("form",{onSubmit:c.handleSubmit,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsxs)(q.a,{className:r.stylePaper,children:[Object(C.jsx)("h1",{children:"It-incubator"}),Object(C.jsx)("h3",{children:"Forgot your password? "}),Object(C.jsx)(V.a,{error:c.touched.email&&Boolean(c.errors.email),helperText:c.touched.email&&c.errors.email,sx:{width:"347px"},variant:"standard",id:"email",name:"email",placeholder:"Email",onChange:c.handleChange}),Object(C.jsx)("h4",{className:z.a.text,children:"Enter your email address and we will send you further instructions "}),Object(C.jsx)(K.a,{sx:{borderRadius:"30px",backgroundColor:"#21268F",width:"266px"},variant:"contained",type:"submit",children:"Send Instructions"})]})})},ee=n(84),te=n(146),ne=n.n(te),re=function(e){var t=e.red,n=e.className,r=Object(ee.a)(e,["red","className"]),a="".concat(t?ne.a.red:ne.a.default," ").concat(n);return Object(C.jsx)("button",Object(d.a)({className:a},r))},ae=n(147),se=n.n(ae),ce=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,a=(e.spanClassName,e.children),s=(e.onChangeTest,Object(ee.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children","onChangeTest"])),c=function(e){n&&n(e.currentTarget.checked),t&&t(e)},i="".concat(se.a.checkbox," ").concat(r||"");return Object(C.jsxs)("label",{children:[Object(C.jsx)("input",Object(d.a)({type:"checkbox",onChange:function(e){return c(e)},className:i},s)),a&&Object(C.jsx)("span",{className:se.a.spanClassName,children:a})]})},ie=n(99),oe=n.n(ie),le=function(e){e.type;var t=e.onChange,n=e.onChangeText,r=e.onKeyPress,a=e.onEnter,s=e.error,c=(e.className,e.spanClassName),i=e.styleInput,o=Object(ee.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","styleInput"]),l="".concat(oe.a.error," ").concat(c||""),j="".concat(oe.a.errorInput,"  ").concat(oe.a.superInput?oe.a.superInput:"");return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",Object(d.a)({type:i,onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),a&&"Enter"===e.key&&a()},className:j},o)),s&&Object(C.jsx)("span",{className:l,children:s})]})},de=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(re,{children:"Button"})}),Object(C.jsx)("div",{children:Object(C.jsx)(ce,{})}),Object(C.jsx)("div",{children:Object(C.jsx)(le,{})})]})},je=n(461),ue=n(78),be=n.n(ue),he=n(202),pe={status:"loading"},Oe=function(e){return{type:"APP/SET_STATUS",status:e}},xe={isLoggedIn:!1},me=function(e){return{type:"LOGIN",value:e}},fe={profile:{_id:null,email:null,name:"",avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:null,error:null}},ge=function(e){return{type:"SET_PROFILE",profile:e}},ve=n.p+"static/media/nonAvatarPic.69bffc6f.png",we=n(462),ye=n(199),Se=n.n(ye),Ce=function(){return Object(C.jsx)("div",{className:Se.a.loader,children:Object(C.jsx)(we.a,{})})},_e=function(){var e=Object(u.c)((function(e){return e.app.status})),t=Object(u.c)((function(e){return e.profile})),n=Object(u.c)((function(e){return e.auth.isLoggedIn})),a=t.profile,s=a.email,c=a.name,i=a.avatar,o=Object(u.b)(),l=Object(r.useState)(!1),j=Object(N.a)(l,2),b=j[0],h=j[1],p=Object(he.a)({defaultValues:{name:c,avatar:i}}),O=p.register,x=(0,p.handleSubmit)((function(e){console.log(e),o(function(e){return function(t){t(Oe("loading")),w(e).then((function(e){t(ge(e.data.updatedUser)),t(me(!0)),t(Oe("success"))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";console.log(n),t(Oe("failed"))}))}}(e))})),m=function(){return h(!0)};return n?Object(C.jsxs)("div",{className:be.a.container,children:[Object(C.jsxs)("div",{className:be.a.photo,children:[Object(C.jsx)("span",{children:"Personal Information"}),Object(C.jsx)("img",{src:i||ve,alt:"photo"})]}),"loading"===e&&Object(C.jsx)(Ce,{}),Object(C.jsx)("div",{children:Object(C.jsx)(U.a,{onClick:function(){o((function(e){e(Oe("loading")),g().then((function(t){e(ge({_id:null,email:null,name:"",avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:null,error:null})),e(Oe("success")),e(me(!1))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t)}))}))},variant:"contained",children:"Log out"})}),!b&&Object(C.jsxs)("div",{className:be.a.info,children:[Object(C.jsx)("span",{children:"NickName"}),Object(C.jsx)("div",{onDoubleClick:m,children:c}),Object(C.jsx)("span",{children:"Email"}),Object(C.jsx)("div",{onDoubleClick:m,children:s})]}),b&&Object(C.jsxs)("form",{className:be.a.form,onSubmit:x,children:[Object(C.jsxs)("div",{className:be.a.info_form,children:[Object(C.jsx)("span",{children:"NickName"}),Object(C.jsx)(je.a,Object(d.a)({},O("name"))),Object(C.jsx)("span",{children:"Image Url"}),Object(C.jsx)(je.a,Object(d.a)({},O("avatar")))]}),Object(C.jsxs)("div",{className:be.a.button,children:[Object(C.jsx)(U.a,{onClick:function(){h(!1)},variant:"contained",color:"secondary",children:"Cancel"}),Object(C.jsx)(U.a,{variant:"contained",color:"primary",type:"submit",children:"Save"})]})]})]}):Object(C.jsx)(R.a,{to:"/login"})},Ee=n(453),Pe=n(442),Re=n(465),Ne=n(452),Te=n(448),Ie=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth.isLoggedIn})),n=Object(H.a)({validate:function(e){return e.email?e.password?e.password.length<7?{password:"Password is at least seven characters"}:void 0:{password:"Password is required"}:{email:"Email is required"}},initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(t){var n;e((n=t,function(e){f(n).then((function(t){200===t.status&&(e(ge(t.data)),e(me(!0)))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t)}))}))}});return t?Object(C.jsx)(R.a,{to:"/profile"}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("form",{onSubmit:n.handleSubmit,children:Object(C.jsxs)(Ee.a,{children:[Object(C.jsx)(Pe.a,{children:"Login"}),Object(C.jsxs)(Re.a,{children:[Object(C.jsx)(V.a,Object(d.a)({label:"Email",type:"email"},n.getFieldProps("email"))),n.errors.email?Object(C.jsx)("div",{children:n.errors.email}):null,Object(C.jsx)(V.a,Object(d.a)({label:"Password",type:"password"},n.getFieldProps("password"))),n.errors.password?Object(C.jsx)("div",{children:n.errors.password}):null,Object(C.jsx)(Ne.a,{label:"Remember me",control:Object(C.jsx)(Te.a,Object(d.a)(Object(d.a)({},n.getFieldProps("rememberMe")),{},{checked:n.values.rememberMe}))}),Object(C.jsx)("div",{children:Object(C.jsx)(l.c,{to:"/restore",children:"Forgot?"})}),Object(C.jsx)("div",{children:Object(C.jsx)(re,{type:"submit",children:"sign in"})})]}),Object(C.jsx)("div",{children:Object(C.jsx)(l.c,{to:"/register",children:"Register"})})]})})})},ke=n(458),Ae=n(200),Me=n.n(Ae),Fe=Object(J.a)({stylePaper:{width:"413px",height:"468px",display:"flex",flexDirection:"column",borderRadius:"8px",left:"434px",top:"126px",padding:"33px",justifyContent:"space-evenly",alignItems:"center"}}),Le=function(){var e=Object(u.c)((function(e){return e.restorePass.email})),t=Fe();return Object(C.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(C.jsxs)(ke.a,{className:t.stylePaper,children:[Object(C.jsx)("h1",{children:"It-incubator"}),Object(C.jsx)("div",{children:Object(C.jsx)(Me.a,{color:"success",style:{width:"108px",height:"108px"}})}),Object(C.jsx)("h2",{style:{color:"green"},children:"Check Email "}),Object(C.jsxs)("h4",{style:{color:"#a9a9a9"},children:["We\u2019ve sent an Email with instructions to email ",e]})]})})},Ge=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)(R.d,{children:[Object(C.jsx)(R.b,{path:"/",element:Object(C.jsx)("div",{children:"default"})}),Object(C.jsx)(R.b,{path:"login",element:Object(C.jsx)("div",{children:Object(C.jsx)(Ie,{})})}),Object(C.jsx)(R.b,{path:"register",element:Object(C.jsx)(B,{})}),Object(C.jsx)(R.b,{path:"profile",element:Object(C.jsx)(_e,{})}),Object(C.jsx)(R.b,{path:"restore",element:Object(C.jsx)(Y,{})}),Object(C.jsx)(R.b,{path:"/set-new-password/:token",element:Object(C.jsx)(Q,{})}),Object(C.jsx)(R.b,{path:"info-sent-email",element:Object(C.jsx)(Le,{})}),Object(C.jsx)(R.b,{path:"test",element:Object(C.jsx)(de,{})}),Object(C.jsx)(R.b,{path:"/404",element:Object(C.jsx)("h1",{children:"404: PAGE NOT FOUND"})})]})})};var De=function(){var e=Object(u.c)((function(e){return e.app.status})),t=Object(u.b)();return Object(r.useEffect)((function(){t((function(e){v().then((function(t){e(ge(t.data)),e(Oe("success")),e(me(!0))})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";console.log(n),e(Oe("failed"))}))}))}),[]),"loading"===e?Object(C.jsx)(Ce,{}):Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(P,{}),Object(C.jsx)(Ge,{})]})},Ue=n(124),Be=n(201),We=Object(Ue.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET_STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.status});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:t.value});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":return Object(d.a)(Object(d.a)({},e),{},{isRegister:t.isRegister});case"SET_ERROR":return Object(d.a)(Object(d.a)({},e),{},{error:t.error});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROFILE":return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),t.profile)});default:return e}},restorePass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTORE/CHANGE-STATUS-MESSAGE":return Object(d.a)(Object(d.a)({},e),{},{statusOfSentMessage:t.status});case"RESTORE/ERROR-MESSAGE":return Object(d.a)(Object(d.a)({},e),{},{error:t.error});case"RESTORE/SET-EMAIL":return Object(d.a)(Object(d.a)({},e),{},{email:t.email});default:return e}},newPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW-PASSWORD/CHANGE-STATUS-PASSWORD":return Object(d.a)(Object(d.a)({},e),{},{statusNewPassword:t.status});default:return e}}}),ze=Object(Ue.c)(We,Object(Ue.a)(Be.a));window.store=ze,c.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(l.a,{children:Object(C.jsx)(u.a,{store:ze,children:Object(C.jsx)(De,{})})})}),document.getElementById("root"))},78:function(e,t,n){e.exports={container:"Profile_container__9dShy",form:"Profile_form__1igXE",info_form:"Profile_info_form__1egpn",photo:"Profile_photo__1o8EQ",info:"Profile_info__2BTtl",button:"Profile_button__20D9C"}},99:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__3-uvM",errorInput:"SuperInputText_errorInput__36AjH",error:"SuperInputText_error__3gt55"}}},[[359,1,2]]]);
//# sourceMappingURL=main.90a9cb6f.chunk.js.map